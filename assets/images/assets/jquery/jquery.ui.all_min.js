(function(c){c.ui={plugin:{add:function(b,a,d){var b=c.ui[b].prototype,f;for(f in d)b.plugins[f]=b.plugins[f]||[],b.plugins[f].push([a,d[f]])},call:function(b,a,d){if(a=b.plugins[a])for(var f=0;f<a.length;f++)b.options[a[f][0]]&&a[f][1].apply(b.element,d)}},cssCache:{},css:function(b){if(c.ui.cssCache[b])return c.ui.cssCache[b];var a=c('<div class="ui-gen">').addClass(b).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");c.ui.cssCache[b]=!(/auto|default/.test(a.css("cursor"))&& !/^[1-9]/.test(a.css("height"))&&!/^[1-9]/.test(a.css("width"))&&/none/.test(a.css("backgroundImage"))&&/transparent|rgba\(0, 0, 0, 0\)/.test(a.css("backgroundColor")));try{c("body").get(0).removeChild(a.get(0))}catch(d){}return c.ui.cssCache[b]},disableSelection:function(b){c(b).attr("unselectable","on").css("MozUserSelect","none")},enableSelection:function(b){c(b).attr("unselectable","off").css("MozUserSelect","")},hasScroll:function(b,a){var d=/top/.test(a||"top")?"scrollTop":"scrollLeft",f=!1; if(0<b[d])return!0;b[d]=1;f=0<b[d]?!0:!1;b[d]=0;return f}};var e=c.fn.remove;c.fn.remove=function(){c("*",this).add(this).triggerHandler("remove");return e.apply(this,arguments)};c.widget=function(b,a){var d=b.split(".")[0],b=b.split(".")[1];c.fn[b]=function(a){var e="string"==typeof a,h=Array.prototype.slice.call(arguments,1),g;if(g=e){g=a;var j=c[d][b].getter||[],j="string"==typeof j?j.split(/,?\s+/):j;g=-1!=c.inArray(g,j)}return g?(g=c.data(this[0],b))?g[a].apply(g,h):void 0:this.each(function(){var g= c.data(this,b);e&&g&&c.isFunction(g[a])?g[a].apply(g,h):e||c.data(this,b,new c[d][b](this,a))})};c[d][b]=function(a,e){var h=this;this.widgetName=b;this.widgetBaseClass=d+"-"+b;this.options=c.extend({},c.widget.defaults,c[d][b].defaults,e);this.element=c(a).bind("setData."+b,function(a,d,b){return h.setData(d,b)}).bind("getData."+b,function(a,d){return h.getData(d)}).bind("remove",function(){return h.destroy()});this.init()};c[d][b].prototype=c.extend({},c.widget.prototype,a)};c.widget.prototype= {init:function(){},destroy:function(){this.element.removeData(this.widgetName)},getData:function(b){return this.options[b]},setData:function(b,a){this.options[b]=a;if("disabled"==b)this.element[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled")},enable:function(){this.setData("disabled",!1)},disable:function(){this.setData("disabled",!0)}};c.widget.defaults={disabled:!1};c.ui.mouse={mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b.mouseDown(a)}); c.browser.msie&&(this._mouseUnselectable=this.element.attr("unselectable"),this.element.attr("unselectable","on"));this.started=!1},mouseDestroy:function(){this.element.unbind("."+this.widgetName);c.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},mouseDown:function(b){this._mouseStarted&&this.mouseUp(b);this._mouseDownEvent=b;var a=this,d=1==b.which,f="string"==typeof this.options.cancel?c(b.target).parents().add(b.target).filter(this.options.cancel).length:!1;if(!d||f||!this.mouseCapture(b))return!0; this._mouseDelayMet=!this.options.delay;this._mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a._mouseDelayMet=!0},this.options.delay));if(this.mouseDistanceMet(b)&&this.mouseDelayMet(b)&&(this._mouseStarted=!1!==this.mouseStart(b),!this._mouseStarted))return b.preventDefault(),!0;this._mouseMoveDelegate=function(d){return a.mouseMove(d)};this._mouseUpDelegate=function(d){return a.mouseUp(d)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName, this._mouseUpDelegate);return!1},mouseMove:function(b){if(c.browser.msie&&!b.button)return this.mouseUp(b);if(this._mouseStarted)return this.mouseDrag(b),!1;this.mouseDistanceMet(b)&&this.mouseDelayMet(b)&&((this._mouseStarted=!1!==this.mouseStart(this._mouseDownEvent,b))?this.mouseDrag(b):this.mouseUp(b));return!this._mouseStarted},mouseUp:function(b){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&& (this._mouseStarted=!1,this.mouseStop(b));return!1},mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},mouseDelayMet:function(){return this._mouseDelayMet},mouseStart:function(){},mouseDrag:function(){},mouseStop:function(){},mouseCapture:function(){return!0}};c.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery); (function(c){c.widget("ui.draggable",c.extend({},c.ui.mouse,{init:function(){var c=this.options;"original"==c.helper&&!/(relative|absolute|fixed)/.test(this.element.css("position"))&&this.element.css("position","relative");this.element.addClass("ui-draggable");c.disabled&&this.element.addClass("ui-draggable-disabled");this.mouseInit()},mouseStart:function(e){var b=this.options;if(this.helper||b.disabled||c(e.target).is(".ui-resizable-handle"))return!1;var a=!this.options.handle||!c(this.options.handle, this.element).length?!0:!1;c(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(a=!0)});if(!a)return!1;c.ui.ddmanager&&(c.ui.ddmanager.current=this);this.helper=c.isFunction(b.helper)?c(b.helper.apply(this.element[0],[e])):"clone"==b.helper?this.element.clone():this.element;this.helper.parents("body").length||this.helper.appendTo("parent"==b.appendTo?this.element[0].parentNode:b.appendTo);this.helper[0]!=this.element[0]&&!/(fixed|absolute)/.test(this.helper.css("position"))&& this.helper.css("position","absolute");this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0};this.cssPosition=this.helper.css("position");this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top};this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();this.offsetParent[0]== document.body&&c.browser.mozilla&&(d={top:0,left:0});this.offset.parent={top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};d=this.element.position();this.offset.relative="relative"==this.cssPosition?{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.offsetParent[0].scrollTop,left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.offsetParent[0].scrollLeft}:{top:0,left:0};this.originalPosition=this.generatePosition(e); this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if(b.cursorAt&&(void 0!=b.cursorAt.left&&(this.offset.click.left=b.cursorAt.left+this.margins.left),void 0!=b.cursorAt.right&&(this.offset.click.left=this.helperProportions.width-b.cursorAt.right+this.margins.left),void 0!=b.cursorAt.top&&(this.offset.click.top=b.cursorAt.top+this.margins.top),void 0!=b.cursorAt.bottom))this.offset.click.top=this.helperProportions.height-b.cursorAt.bottom+this.margins.top;if(b.containment){"parent"== b.containment&&(b.containment=this.helper[0].parentNode);if("document"==b.containment||"window"==b.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c("document"==b.containment?document:window).width()-this.offset.relative.left-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),(c("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)- this.offset.relative.top-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)];if(!/^(document|window|parent)$/.test(b.containment)){var d=c(b.containment)[0],f=c(b.containment).offset();this.containment=[f.left+(parseInt(c(d).css("borderLeftWidth"),10)||0)-this.offset.relative.left-this.offset.parent.left,f.top+(parseInt(c(d).css("borderTopWidth"),10)||0)-this.offset.relative.top-this.offset.parent.top,f.left+Math.max(d.scrollWidth, d.offsetWidth)-(parseInt(c(d).css("borderLeftWidth"),10)||0)-this.offset.relative.left-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),f.top+Math.max(d.scrollHeight,d.offsetHeight)-(parseInt(c(d).css("borderTopWidth"),10)||0)-this.offset.relative.top-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)]}}this.propagate("start",e);this.helperProportions={width:this.helper.outerWidth(), height:this.helper.outerHeight()};c.ui.ddmanager&&!b.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,e);this.helper.addClass("ui-draggable-dragging");this.mouseDrag(e);return!0},convertPositionTo:function(e,b){b||(b=this.position);var a="absolute"==e?1:-1;return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"==this.cssPosition||"absolute"==this.cssPosition&&this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)*a+("fixed"==this.cssPosition?c(document).scrollTop(): 0)*a+this.margins.top*a,left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"==this.cssPosition||"absolute"==this.cssPosition&&this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)*a+("fixed"==this.cssPosition?c(document).scrollLeft():0)*a+this.margins.left*a}},generatePosition:function(e){var b=this.options,e={top:e.pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition||"absolute"==this.cssPosition&&this.offsetParent[0]== document.body?0:this.offsetParent[0].scrollTop)-("fixed"==this.cssPosition?c(document).scrollTop():0),left:e.pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition||"absolute"==this.cssPosition&&this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)-("fixed"==this.cssPosition?c(document).scrollLeft():0)};if(!this.originalPosition)return e;if(this.containment&&(e.left<this.containment[0]&&(e.left=this.containment[0]),e.top<this.containment[1]&& (e.top=this.containment[1]),e.left>this.containment[2]&&(e.left=this.containment[2]),e.top>this.containment[3]))e.top=this.containment[3];if(b.grid){var a=this.originalPosition.top+Math.round((e.top-this.originalPosition.top)/b.grid[1])*b.grid[1];e.top=this.containment?!(a<this.containment[1]||a>this.containment[3])?a:!(a<this.containment[1])?a-b.grid[1]:a+b.grid[1]:a;a=this.originalPosition.left+Math.round((e.left-this.originalPosition.left)/b.grid[0])*b.grid[0];e.left=this.containment?!(a<this.containment[0]|| a>this.containment[2])?a:!(a<this.containment[0])?a-b.grid[0]:a+b.grid[0]:a}return e},mouseDrag:function(e){this.position=this.generatePosition(e);this.positionAbs=this.convertPositionTo("absolute");this.position=this.propagate("drag",e)||this.position;if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,e);return!1},mouseStop:function(e){var b= !1;c.ui.ddmanager&&!this.options.dropBehaviour&&(b=c.ui.ddmanager.drop(this,e));if("invalid"==this.options.revert&&!b||"valid"==this.options.revert&&b||!0===this.options.revert){var a=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revert,10)||500,function(){a.propagate("stop",e);a.clear()})}else this.propagate("stop",e),this.clear();return!1},clear:function(){this.helper.removeClass("ui-draggable-dragging");"original"!=this.options.helper&&!this.cancelHelperRemoval&&this.helper.remove(); this.helper=null;this.cancelHelperRemoval=!1},plugins:{},uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,options:this.options}},propagate:function(e,b){c.ui.plugin.call(this,e,[b,this.uiHash()]);"drag"==e&&(this.positionAbs=this.convertPositionTo("absolute"));return this.element.triggerHandler("drag"==e?e:"drag"+e,[b,this.uiHash()],this.options[e])},destroy:function(){this.element.data("draggable")&&(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable"), this.mouseDestroy())}}));c.extend(c.ui.draggable,{defaults:{appendTo:"parent",axis:!1,cancel:":input",delay:0,distance:1,helper:"original"}});c.ui.plugin.add("draggable","cursor",{start:function(e,b){var a=c("body");a.css("cursor")&&(b.options._cursor=a.css("cursor"));a.css("cursor",b.options.cursor)},stop:function(e,b){b.options._cursor&&c("body").css("cursor",b.options._cursor)}});c.ui.plugin.add("draggable","zIndex",{start:function(e,b){var a=c(b.helper);a.css("zIndex")&&(b.options._zIndex=a.css("zIndex")); a.css("zIndex",b.options.zIndex)},stop:function(e,b){b.options._zIndex&&c(b.helper).css("zIndex",b.options._zIndex)}});c.ui.plugin.add("draggable","opacity",{start:function(e,b){var a=c(b.helper);a.css("opacity")&&(b.options._opacity=a.css("opacity"));a.css("opacity",b.options.opacity)},stop:function(e,b){b.options._opacity&&c(b.helper).css("opacity",b.options._opacity)}});c.ui.plugin.add("draggable","iframeFix",{start:function(e,b){c(!0===b.options.iframeFix?"iframe":b.options.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+ "px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")})},stop:function(){c("div.DragDropIframeFix").each(function(){this.parentNode.removeChild(this)})}});c.ui.plugin.add("draggable","scroll",{start:function(e,b){var a=b.options,d=c(this).data("draggable");a.scrollSensitivity=a.scrollSensitivity||20;a.scrollSpeed=a.scrollSpeed||20;a:{a=this;do{if(/auto|scroll/.test(a.css("overflow"))||/auto|scroll/.test(a.css("overflow-y")))break a; a=a.parent()}while(a[0].parentNode);a=c(document)}d.overflowY=a;a:{a=this;do{if(/auto|scroll/.test(a.css("overflow"))||/auto|scroll/.test(a.css("overflow-x")))break a;a=a.parent()}while(a[0].parentNode);a=c(document)}d.overflowX=a;d.overflowY[0]!=document&&"HTML"!=d.overflowY[0].tagName&&(d.overflowYOffset=d.overflowY.offset());d.overflowX[0]!=document&&"HTML"!=d.overflowX[0].tagName&&(d.overflowXOffset=d.overflowX.offset())},drag:function(e,b){var a=b.options,d=c(this).data("draggable");if(d.overflowY[0]!= document&&"HTML"!=d.overflowY[0].tagName){if(d.overflowYOffset.top+d.overflowY[0].offsetHeight-e.pageY<a.scrollSensitivity&&(d.overflowY[0].scrollTop+=a.scrollSpeed),e.pageY-d.overflowYOffset.top<a.scrollSensitivity)d.overflowY[0].scrollTop-=a.scrollSpeed}else e.pageY-c(document).scrollTop()<a.scrollSensitivity&&c(document).scrollTop(c(document).scrollTop()-a.scrollSpeed),c(window).height()-(e.pageY-c(document).scrollTop())<a.scrollSensitivity&&c(document).scrollTop(c(document).scrollTop()+a.scrollSpeed); if(d.overflowX[0]!=document&&"HTML"!=d.overflowX[0].tagName){if(d.overflowXOffset.left+d.overflowX[0].offsetWidth-e.pageX<a.scrollSensitivity&&(d.overflowX[0].scrollLeft+=a.scrollSpeed),e.pageX-d.overflowXOffset.left<a.scrollSensitivity)d.overflowX[0].scrollLeft-=a.scrollSpeed}else e.pageX-c(document).scrollLeft()<a.scrollSensitivity&&c(document).scrollLeft(c(document).scrollLeft()-a.scrollSpeed),c(window).width()-(e.pageX-c(document).scrollLeft())<a.scrollSensitivity&&c(document).scrollLeft(c(document).scrollLeft()+ a.scrollSpeed)}});c.ui.plugin.add("draggable","snap",{start:function(e,b){var a=c(this).data("draggable");a.snapElements=[];c(!0===b.options.snap?".ui-draggable":b.options.snap).each(function(){var d=c(this),b=d.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:b.top,left:b.left})})},drag:function(e,b){for(var a=c(this).data("draggable"),d=b.options.snapTolerance||20,f=b.absolutePosition.left,i=f+a.helperProportions.width,h=b.absolutePosition.top, g=h+a.helperProportions.height,j=a.snapElements.length-1;0<=j;j--){var k=a.snapElements[j].left,l=k+a.snapElements[j].width,o=a.snapElements[j].top,m=o+a.snapElements[j].height;if(k-d<f&&f<l+d&&o-d<h&&h<m+d||k-d<f&&f<l+d&&o-d<g&&g<m+d||k-d<i&&i<l+d&&o-d<h&&h<m+d||k-d<i&&i<l+d&&o-d<g&&g<m+d){if("inner"!=b.options.snapMode){var n=20>=Math.abs(o-g),t=20>=Math.abs(m-h),q=20>=Math.abs(k-i),u=20>=Math.abs(l-f);n&&(b.position.top=a.convertPositionTo("relative",{top:o-a.helperProportions.height,left:0}).top); t&&(b.position.top=a.convertPositionTo("relative",{top:m,left:0}).top);q&&(b.position.left=a.convertPositionTo("relative",{top:0,left:k-a.helperProportions.width}).left);u&&(b.position.left=a.convertPositionTo("relative",{top:0,left:l}).left)}if("outer"!=b.options.snapMode&&(n=20>=Math.abs(o-h),t=20>=Math.abs(m-g),q=20>=Math.abs(k-f),u=20>=Math.abs(l-i),n&&(b.position.top=a.convertPositionTo("relative",{top:o,left:0}).top),t&&(b.position.top=a.convertPositionTo("relative",{top:m-a.helperProportions.height, left:0}).top),q&&(b.position.left=a.convertPositionTo("relative",{top:0,left:k}).left),u))b.position.left=a.convertPositionTo("relative",{top:0,left:l-a.helperProportions.width}).left}}}});c.ui.plugin.add("draggable","connectToSortable",{start:function(e,b){var a=c(this).data("draggable");a.sortables=[];c(b.options.connectToSortable).each(function(){if(c.data(this,"sortable")){var d=c.data(this,"sortable");a.sortables.push({instance:d,shouldRevert:d.options.revert});d.refreshItems();d.propagate("activate", e,a)}})},stop:function(e){var b=c(this).data("draggable");c.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance.mouseStop(e),this.instance.element.triggerHandler("sortreceive",[e,c.extend(this.instance.ui(),{sender:b.element})],this.instance.options.receive),this.instance.options.helper=this.instance.options._helper):this.instance.propagate("deactivate", e,b)})},drag:function(e,b){var a=c(this).data("draggable"),d=this,f=function(a){var d=a.left,b=d+a.width,f=a.top,a=f+a.height;return d<this.positionAbs.left+this.offset.click.left&&this.positionAbs.left+this.offset.click.left<b&&f<this.positionAbs.top+this.offset.click.top&&this.positionAbs.top+this.offset.click.top<a};c.each(a.sortables,function(){f.call(a,this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=c(d).clone().appendTo(this.instance.element).data("sortable-item", !0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},e.target=this.instance.currentItem[0],this.instance.mouseCapture(e,!0),this.instance.mouseStart(e,!0,!0),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top, a.propagate("toSortable",e)),this.instance.currentItem&&this.instance.mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance.mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),a.propagate("fromSortable",e))})}});c.ui.plugin.add("draggable","stack",{start:function(e,b){var a=c.makeArray(c(b.options.stack.group)).sort(function(a, f){return(parseInt(c(a).css("zIndex"),10)||b.options.stack.min)-(parseInt(c(f).css("zIndex"),10)||b.options.stack.min)});c(a).each(function(a){this.style.zIndex=b.options.stack.min+a});this[0].style.zIndex=b.options.stack.min+a.length}})})(jQuery); (function(c){c.widget("ui.droppable",{init:function(){this.element.addClass("ui-droppable");this.isover=0;this.isout=1;var e=this.options,b=e.accept,e=c.extend(e,{accept:e.accept&&e.accept.constructor==Function?e.accept:function(a){return c(a).is(b)}});this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};c.ui.ddmanager.droppables.push(this)},plugins:{},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,absolutePosition:c.positionAbs, options:this.options,element:this.element}},destroy:function(){for(var e=c.ui.ddmanager.droppables,b=0;b<e.length;b++)e[b]==this&&e.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},over:function(e){var b=c.ui.ddmanager.current;if(b&&(b.currentItem||b.element)[0]!=this.element[0])if(this.options.accept.call(this.element,b.currentItem||b.element))c.ui.plugin.call(this,"over",[e,this.ui(b)]),this.element.triggerHandler("dropover", [e,this.ui(b)],this.options.over)},out:function(e){var b=c.ui.ddmanager.current;if(b&&(b.currentItem||b.element)[0]!=this.element[0])if(this.options.accept.call(this.element,b.currentItem||b.element))c.ui.plugin.call(this,"out",[e,this.ui(b)]),this.element.triggerHandler("dropout",[e,this.ui(b)],this.options.out)},drop:function(e,b){var a=b||c.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0])return!1;var d=!1;this.element.find(".ui-droppable").not(".ui-draggable-dragging").each(function(){var b= c.data(this,"droppable");if(b.options.greedy&&c.ui.intersect(a,c.extend(b,{offset:b.element.offset()}),b.options.tolerance))return d=!0,!1});return d?!1:this.options.accept.call(this.element,a.currentItem||a.element)?(c.ui.plugin.call(this,"drop",[e,this.ui(a)]),this.element.triggerHandler("drop",[e,this.ui(a)],this.options.drop),!0):!1},activate:function(e){var b=c.ui.ddmanager.current;c.ui.plugin.call(this,"activate",[e,this.ui(b)]);b&&this.element.triggerHandler("dropactivate",[e,this.ui(b)],this.options.activate)}, deactivate:function(e){var b=c.ui.ddmanager.current;c.ui.plugin.call(this,"deactivate",[e,this.ui(b)]);b&&this.element.triggerHandler("dropdeactivate",[e,this.ui(b)],this.options.deactivate)}});c.extend(c.ui.droppable,{defaults:{disabled:!1,tolerance:"intersect"}});c.ui.intersect=function(c,b,a){if(!b.offset)return!1;var d=(c.positionAbs||c.position.absolute).left,f=d+c.helperProportions.width,i=(c.positionAbs||c.position.absolute).top,h=i+c.helperProportions.height,g=b.offset.left,j=g+b.proportions.width, k=b.offset.top,b=k+b.proportions.height;switch(a){case "fit":return g<d&&f<j&&k<i&&h<b;case "intersect":return g<d+c.helperProportions.width/2&&f-c.helperProportions.width/2<j&&k<i+c.helperProportions.height/2&&h-c.helperProportions.height/2<b;case "pointer":return g<(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left&&(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left<j&&k<(c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top&& (c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top<b;case "touch":return(i>=k&&i<=b||h>=k&&h<=b||i<k&&h>b)&&(d>=g&&d<=j||f>=g&&f<=j||d<g&&f>j);default:return!1}};c.ui.ddmanager={current:null,droppables:[],prepareOffsets:function(e,b){for(var a=c.ui.ddmanager.droppables,d=b?b.type:null,f=0;f<a.length;f++)a[f].options.disabled||e&&!a[f].options.accept.call(a[f].element,e.currentItem||e.element)||(a[f].visible="none"!=a[f].element.css("display"),a[f].visible&&(a[f].offset=a[f].element.offset(), a[f].proportions={width:a[f].element[0].offsetWidth,height:a[f].element[0].offsetHeight},("dragstart"==d||"sortactivate"==d)&&a[f].activate.call(a[f],b)))},drop:function(e,b){var a=!1;c.each(c.ui.ddmanager.droppables,function(){if(this.options&&(!this.options.disabled&&(this.visible&&c.ui.intersect(e,this,this.options.tolerance))&&(a=this.drop.call(this,b)),!this.options.disabled&&this.visible&&this.options.accept.call(this.element,e.currentItem||e.element)))this.isout=1,this.isover=0,this.deactivate.call(this, b)});return a},drag:function(e,b){e.options.refreshPositions&&c.ui.ddmanager.prepareOffsets(e,b);c.each(c.ui.ddmanager.droppables,function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var a=c.ui.intersect(e,this,this.options.tolerance);if(a=!a&&1==this.isover?"isout":a&&0==this.isover?"isover":null){var d;if(this.options.greedy){var f=this.element.parents(".ui-droppable:eq(0)");f.length&&(d=c.data(f[0],"droppable"),d.greedyChild="isover"==a?1:0)}d&&"isover"==a&&(d.isover=0,d.isout= 1,d.out.call(d,b));this[a]=1;this["isout"==a?"isover":"isout"]=0;this["isover"==a?"over":"out"].call(this,b);d&&"isout"==a&&(d.isout=0,d.isover=1,d.over.call(d,b))}}})}};c.ui.plugin.add("droppable","activeClass",{activate:function(e,b){c(this).addClass(b.options.activeClass)},deactivate:function(e,b){c(this).removeClass(b.options.activeClass)},drop:function(e,b){c(this).removeClass(b.options.activeClass)}});c.ui.plugin.add("droppable","hoverClass",{over:function(e,b){c(this).addClass(b.options.hoverClass)}, out:function(e,b){c(this).removeClass(b.options.hoverClass)},drop:function(e,b){c(this).removeClass(b.options.hoverClass)}})})(jQuery); (function(c){c.widget("ui.resizable",c.extend({},c.ui.mouse,{init:function(){var e=this,b=this.options,a=this.element.css("position");this.originalElement=this.element;this.element.addClass("ui-resizable").css({position:/static/.test(a)?"relative":a});c.extend(b,{_aspectRatio:!!b.aspectRatio,helper:b.helper||b.ghost||b.animate?b.helper||"proxy":null,knobHandles:!0===b.knobHandles?"ui-resizable-knob-handle":b.knobHandles});b.defaultTheme={"ui-resizable":{display:"block"},"ui-resizable-handle":{position:"absolute", background:"#F2F2F2",fontSize:"0.1px"},"ui-resizable-n":{cursor:"n-resize",height:"4px",left:"0px",right:"0px",borderTop:"1px solid #DEDEDE"},"ui-resizable-s":{cursor:"s-resize",height:"4px",left:"0px",right:"0px",borderBottom:"1px solid #DEDEDE"},"ui-resizable-e":{cursor:"e-resize",width:"4px",top:"0px",bottom:"0px",borderRight:"1px solid #DEDEDE"},"ui-resizable-w":{cursor:"w-resize",width:"4px",top:"0px",bottom:"0px",borderLeft:"1px solid #DEDEDE"},"ui-resizable-se":{cursor:"se-resize",width:"4px", height:"4px",borderRight:"1px solid #DEDEDE",borderBottom:"1px solid #DEDEDE"},"ui-resizable-sw":{cursor:"sw-resize",width:"4px",height:"4px",borderBottom:"1px solid #DEDEDE",borderLeft:"1px solid #DEDEDE"},"ui-resizable-ne":{cursor:"ne-resize",width:"4px",height:"4px",borderRight:"1px solid #DEDEDE",borderTop:"1px solid #DEDEDE"},"ui-resizable-nw":{cursor:"nw-resize",width:"4px",height:"4px",borderLeft:"1px solid #DEDEDE",borderTop:"1px solid #DEDEDE"}};b.knobTheme={"ui-resizable-handle":{background:"#F2F2F2", border:"1px solid #808080",height:"8px",width:"8px"},"ui-resizable-n":{cursor:"n-resize",top:"0px",left:"45%"},"ui-resizable-s":{cursor:"s-resize",bottom:"0px",left:"45%"},"ui-resizable-e":{cursor:"e-resize",right:"0px",top:"45%"},"ui-resizable-w":{cursor:"w-resize",left:"0px",top:"45%"},"ui-resizable-se":{cursor:"se-resize",right:"0px",bottom:"0px"},"ui-resizable-sw":{cursor:"sw-resize",left:"0px",bottom:"0px"},"ui-resizable-nw":{cursor:"nw-resize",left:"0px",top:"0px"},"ui-resizable-ne":{cursor:"ne-resize", right:"0px",top:"0px"}};b._nodeName=this.element[0].nodeName;b._nodeName.match(/canvas|textarea|input|select|button|img/i)&&(a=this.element,/relative/.test(a.css("position"))&&c.browser.opera&&a.css({position:"relative",top:"auto",left:"auto"}),a.wrap(c('<div class="ui-wrapper"\tstyle="overflow: hidden;"></div>').css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})),a=this.element,this.element=this.element.parent(),this.element.data("resizable", this),this.element.css({marginLeft:a.css("marginLeft"),marginTop:a.css("marginTop"),marginRight:a.css("marginRight"),marginBottom:a.css("marginBottom")}),a.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),c.browser.safari&&b.preventDefault&&a.css("resize","none"),b.proportionallyResize=a.css({position:"static",zoom:1,display:"block"}),this.element.css({margin:a.css("margin")}),this._proportionallyResize());b.handles||(b.handles=!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n", e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(b.handles.constructor==String){b.zIndex=b.zIndex||1E3;"all"==b.handles&&(b.handles="n,e,s,w,se,sw,ne,nw");a=b.handles.split(",");b.handles={};for(var d={handle:"position: absolute; display: none; overflow:hidden;",n:"top: 0pt; width:100%;",e:"right: 0pt; height:100%;",s:"bottom: 0pt; width:100%;",w:"left: 0pt; height:100%;",se:"bottom: 0pt; right: 0px;", sw:"bottom: 0pt; left: 0px;",ne:"top: 0pt; right: 0px;",nw:"top: 0pt; left: 0px;"},f=0;f<a.length;f++){var i=c.trim(a[f]),h=b.defaultTheme,g="ui-resizable-"+i,j=!c.ui.css(g)&&!b.knobHandles,k=c.ui.css("ui-resizable-knob-handle"),h=c.extend(h[g],h["ui-resizable-handle"]),k=c.extend(b.knobTheme[g],!k?b.knobTheme["ui-resizable-handle"]:{}),l=/sw|se|ne|nw/.test(i)?{zIndex:++b.zIndex}:{},g=c(['<div class="ui-resizable-handle ',g,'" style="',j?d[i]:"",d.handle,'"></div>'].join("")).css(l);b.handles[i]= ".ui-resizable-"+i;this.element.append(g.css(j?h:{}).css(b.knobHandles?k:{}).addClass(b.knobHandles?"ui-resizable-knob-handle":"").addClass(b.knobHandles))}b.knobHandles&&this.element.addClass("ui-resizable-knob").css((c.ui.css("ui-resizable-knob"),{}))}this._renderAxis=function(a){var a=a||this.element,d;for(d in b.handles){b.handles[d].constructor==String&&(b.handles[d]=c(b.handles[d],this.element).show());b.transparent&&b.handles[d].css({opacity:0});if(this.element.is(".ui-wrapper")&&b._nodeName.match(/textarea|input|select|button/i)){var f= c(b.handles[d],this.element),e=0,e=/sw|ne|nw|se|n|s/.test(d)?f.outerHeight():f.outerWidth(),f=["padding",/ne|nw|n/.test(d)?"Top":/se|sw|s/.test(d)?"Bottom":/^e$/.test(d)?"Right":"Left"].join("");b.transparent||a.css(f,e);this._proportionallyResize()}c(b.handles[d])}};this._renderAxis(this.element);b._handles=c(".ui-resizable-handle",e.element);b.disableSelection&&b._handles.each(function(a,d){c.ui.disableSelection(d)});b._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i); e.axis=b.axis=a&&a[1]?a[1]:"se"}});b.autoHide&&(b._handles.hide(),c(e.element).addClass("ui-resizable-autohide").hover(function(){c(this).removeClass("ui-resizable-autohide");b._handles.show()},function(){if(!b.resizing){c(this).addClass("ui-resizable-autohide");b._handles.hide()}}));this.mouseInit()},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,options:this.options,originalSize:this.originalSize, originalPosition:this.originalPosition}},propagate:function(e,b){c.ui.plugin.call(this,e,[b,this.ui()]);"resize"!=e&&this.element.triggerHandler(["resize",e].join(""),[b,this.ui()],this.options[e])},destroy:function(){var e=this.element,b=e.children(".ui-resizable").get(0);this.mouseDestroy();var a=function(a){c(a).removeClass("ui-resizable ui-resizable-disabled").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};a(e);e.is(".ui-wrapper")&&b&&(e.parent().append(c(b).css({position:e.css("position"), width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).end().remove(),a(b))},mouseStart:function(e){if(this.options.disabled)return!1;var b=!1,a;for(a in this.options.handles)c(this.options.handles[a])[0]==e.target&&(b=!0);if(!b)return!1;var b=this.options,d=this.element.position();a=this.element;var f=function(a){return parseInt(a,10)||0},i=c.browser.msie&&7>c.browser.version;b.resizing=!0;b.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(a.is(".ui-draggable")|| /absolute/.test(a.css("position"))){var h=c.browser.msie&&!b.containment&&/absolute/.test(a.css("position"))&&!/relative/.test(a.parent().css("position"));a.css({position:"absolute",top:d.top+(h?b.documentScroll.top:0),left:d.left+(h?b.documentScroll.left:0)})}c.browser.opera&&/relative/.test(a.css("position"))&&a.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();d=f(this.helper.css("left"));f=f(this.helper.css("top"));b.containment&&(d+=c(b.containment).scrollLeft()||0,f+=c(b.containment).scrollTop()|| 0);this.offset=this.helper.offset();this.position={left:d,top:f};this.size=b.helper||i?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()};this.originalSize=b.helper||i?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()};this.originalPosition={left:d,top:f};this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};b.aspectRatio="number"==typeof b.aspectRatio?b.aspectRatio: this.originalSize.height/this.originalSize.width||1;b.preserveCursor&&c("body").css("cursor",this.axis+"-resize");this.propagate("start",e);return!0},mouseDrag:function(c){var b=this.helper,a=this.options,d=this.originalMousePosition,f=this._change[this.axis];if(!f)return!1;d=f.apply(this,[c,c.pageX-d.left||0,c.pageY-d.top||0]);if(a._aspectRatio||c.shiftKey)d=this._updateRatio(d,c);d=this._respectSize(d,c);this.propagate("resize",c);b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+ "px",height:this.size.height+"px"});!a.helper&&a.proportionallyResize&&this._proportionallyResize();this._updateCache(d);this.element.triggerHandler("resize",[c,this.ui()],this.options.resize);return!1},mouseStop:function(e){this.options.resizing=!1;var b=this.options;if(b.helper){var a=b.proportionallyResize,d=a&&/textarea/i.test(a.get(0).nodeName),a=d&&c.ui.hasScroll(a.get(0),"left")?0:this.sizeDiff.height,d={width:this.size.width-(d?0:this.sizeDiff.width),height:this.size.height-a},a=parseInt(this.element.css("left"), 10)+(this.position.left-this.originalPosition.left)||null,f=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;b.animate||this.element.css(c.extend(d,{top:f,left:a}));b.helper&&!b.animate&&this._proportionallyResize()}b.preserveCursor&&c("body").css("cursor","auto");this.propagate("stop",e);b.helper&&this.helper.remove();return!1},_updateCache:function(c){this.offset=this.helper.offset();c.left&&(this.position.left=c.left);c.top&&(this.position.top=c.top);c.height&& (this.size.height=c.height);c.width&&(this.size.width=c.width)},_updateRatio:function(c){var b=this.options,a=this.position,d=this.size,f=this.axis;c.height?c.width=d.height/b.aspectRatio:c.width&&(c.height=d.width*b.aspectRatio);"sw"==f&&(c.left=a.left+(d.width-c.width),c.top=null);"nw"==f&&(c.top=a.top+(d.height-c.height),c.left=a.left+(d.width-c.width));return c},_respectSize:function(c){var b=this.options,a=this.axis,d=c.width&&b.maxWidth&&b.maxWidth<c.width,f=c.height&&b.maxHeight&&b.maxHeight< c.height,i=c.width&&b.minWidth&&b.minWidth>c.width,h=c.height&&b.minHeight&&b.minHeight>c.height;i&&(c.width=b.minWidth);h&&(c.height=b.minHeight);d&&(c.width=b.maxWidth);f&&(c.height=b.maxHeight);var g=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(a),a=/nw|ne|n/.test(a);i&&k&&(c.left=g-b.minWidth);d&&k&&(c.left=g-b.maxWidth);h&&a&&(c.top=j-b.minHeight);f&&a&&(c.top=j-b.maxHeight);(b=!c.width&&!c.height)&&!c.left&&c.top?c.top=null:b&&(!c.top&& c.left)&&(c.left=null);return c},_proportionallyResize:function(){var e=this.options;if(e.proportionallyResize){var b=e.proportionallyResize,a=this.helper||this.element;if(!e.borderDif){var d=[b.css("borderTopWidth"),b.css("borderRightWidth"),b.css("borderBottomWidth"),b.css("borderLeftWidth")],f=[b.css("paddingTop"),b.css("paddingRight"),b.css("paddingBottom"),b.css("paddingLeft")];e.borderDif=c.map(d,function(a,d){var b=parseInt(a,10)||0,c=parseInt(f[d],10)||0;return b+c})}b.css({height:a.height()- e.borderDif[0]-e.borderDif[2]+"px",width:a.width()-e.borderDif[1]-e.borderDif[3]+"px"})}},_renderProxy:function(){var e=this.element,b=this.options;this.elementOffset=e.offset();if(b.helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var a=c.browser.msie&&7>c.browser.version,d=a?1:0,a=a?2:-1;this.helper.addClass(b.helper).css({width:e.outerWidth()+a,height:e.outerHeight()+a,position:"absolute",left:this.elementOffset.left-d+"px",top:this.elementOffset.top-d+"px",zIndex:++b.zIndex}); this.helper.appendTo("body");b.disableSelection&&c.ui.disableSelection(this.helper.get(0))}else this.helper=e},_change:{e:function(c,b){return{width:this.originalSize.width+b}},w:function(c,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(c,b,a){return{top:this.originalPosition.top+a,height:this.originalSize.height-a}},s:function(c,b,a){return{height:this.originalSize.height+a}},se:function(e,b,a){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this, [e,b,a]))},sw:function(e,b,a){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,b,a]))},ne:function(e,b,a){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,b,a]))},nw:function(e,b,a){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,b,a]))}}}));c.extend(c.ui.resizable,{defaults:{cancel:":input",distance:1,delay:0,preventDefault:!0,transparent:!1,minWidth:10,minHeight:10,aspectRatio:!1,disableSelection:!0, preserveCursor:!0,autoHide:!1,knobHandles:!1}});c.ui.plugin.add("resizable","containment",{start:function(e,b){var a=b.options,d=c(this).data("resizable"),f=d.element,a=a.containment;if(f=a instanceof c?a.get(0):/parent/.test(a)?f.parent().get(0):a)if(d.containerElement=c(f),/document/.test(a)||a==document)d.containerOffset={left:0,top:0},d.containerPosition={left:0,top:0},d.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}; else{d.containerOffset=c(f).offset();d.containerPosition=c(f).position();d.containerSize={height:c(f).innerHeight(),width:c(f).innerWidth()};var a=d.containerOffset,i=d.containerSize.height,h=d.containerSize.width,h=c.ui.hasScroll(f,"left")?f.scrollWidth:h,i=c.ui.hasScroll(f)?f.scrollHeight:i;d.parentData={element:f,left:a.left,top:a.top,width:h,height:i}}},resize:function(e,b){var a=b.options,d=c(this).data("resizable"),f=d.containerOffset,i=d.position,h=a._aspectRatio||e.shiftKey,g={top:0,left:0}, j=d.containerElement;j[0]!=document&&/static/.test(j.css("position"))&&(g=d.containerPosition);if(i.left<(a.helper?f.left:g.left))d.size.width+=a.helper?d.position.left-f.left:d.position.left-g.left,h&&(d.size.height=d.size.width*a.aspectRatio),d.position.left=a.helper?f.left:g.left;if(i.top<(a.helper?f.top:0))d.size.height+=a.helper?d.position.top-f.top:d.position.top,h&&(d.size.width=d.size.height/a.aspectRatio),d.position.top=a.helper?f.top:0;i=(a.helper?d.offset.left-f.left:d.position.left-g.left)+ d.sizeDiff.width;f=(a.helper?d.offset.top-f.top:d.position.top)+d.sizeDiff.height;i+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-i,h&&(d.size.height=d.size.width*a.aspectRatio));f+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-f,h&&(d.size.width=d.size.height/a.aspectRatio))},stop:function(e,b){var a=b.options,d=c(this).data("resizable"),f=d.containerOffset,i=d.containerPosition,h=d.containerElement,g=c(d.helper),d=g.offset(),j=g.innerWidth(),g=g.innerHeight(); a.helper&&(!a.animate&&/relative/.test(h.css("position")))&&c(this).css({left:d.left-f.left,top:d.top-f.top,width:j,height:g});a.helper&&(!a.animate&&/static/.test(h.css("position")))&&c(this).css({left:i.left+(d.left-f.left),top:i.top+(d.top-f.top),width:j,height:g})}});c.ui.plugin.add("resizable","grid",{resize:function(e,b){var a=b.options,d=c(this).data("resizable"),f=d.size,i=d.originalSize,h=d.originalPosition,g=d.axis;a.grid="number"==typeof a.grid?[a.grid,a.grid]:a.grid;var j=Math.round((f.width- i.width)/(a.grid[0]||1))*(a.grid[0]||1),a=Math.round((f.height-i.height)/(a.grid[1]||1))*(a.grid[1]||1);/^(se|s|e)$/.test(g)?(d.size.width=i.width+j,d.size.height=i.height+a):/^(ne)$/.test(g)?(d.size.width=i.width+j,d.size.height=i.height+a,d.position.top=h.top-a):(/^(sw)$/.test(g)?(d.size.width=i.width+j,d.size.height=i.height+a):(d.size.width=i.width+j,d.size.height=i.height+a,d.position.top=h.top-a),d.position.left=h.left-j)}});c.ui.plugin.add("resizable","animate",{stop:function(e,b){var a=b.options, d=c(this).data("resizable"),f=a.proportionallyResize,i=f&&/textarea/i.test(f.get(0).nodeName),h=i&&c.ui.hasScroll(f.get(0),"left")?0:d.sizeDiff.height,i={width:d.size.width-(i?0:d.sizeDiff.width),height:d.size.height-h},h=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,g=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(c.extend(i,g&&h?{top:g,left:h}:{}),{duration:a.animateDuration||"slow",easing:a.animateEasing||"swing", step:function(){var a={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.css({width:a.width,height:a.height});d._updateCache(a);d.propagate("animate",e)}})}});c.ui.plugin.add("resizable","ghost",{start:function(e,b){var a=b.options,d=c(this).data("resizable"),f=a.proportionallyResize,i=d.size;d.ghost=f?f.clone():d.element.clone();d.ghost.css({opacity:0.25,display:"block",position:"relative", height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:"");d.ghost.appendTo(d.helper)},resize:function(){var e=c(this).data("resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=c(this).data("resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}});c.ui.plugin.add("resizable","alsoResize",{start:function(e,b){var a=b.options;c(this).data("resizable"); var d=function(a){c(a).each(function(){c(this).data("resizable-alsoresize",{width:parseInt(c(this).width(),10),height:parseInt(c(this).height(),10),left:parseInt(c(this).css("left"),10),top:parseInt(c(this).css("top"),10)})})};"object"==typeof a.alsoResize?a.alsoResize.length?(a.alsoResize=a.alsoResize[0],d(a.alsoResize)):c.each(a.alsoResize,function(a){d(a)}):d(a.alsoResize)},resize:function(e,b){var a=b.options,d=c(this).data("resizable"),f=d.originalSize,i=d.originalPosition,h={height:d.size.height- f.height||0,width:d.size.width-f.width||0,top:d.position.top-i.top||0,left:d.position.left-i.left||0},g=function(a,d){c(a).each(function(){var a=c(this).data("resizable-alsoresize"),b={};c.each((d&&d.length?d:["width","height","top","left"])||["width","height","top","left"],function(d,c){var f=(a[c]||0)+(h[c]||0);f&&0<=f&&(b[c]=f||null)});c(this).css(b)})};"object"==typeof a.alsoResize?c.each(a.alsoResize,function(a,d){g(a,d)}):g(a.alsoResize)},stop:function(){c(this).removeData("resizable-alsoresize-start")}})})(jQuery); (function(c){c.widget("ui.selectable",c.extend({},c.ui.mouse,{init:function(){var e=this;this.element.addClass("ui-selectable");this.dragged=!1;var b;this.refresh=function(){b=c(e.options.filter,e.element[0]);b.each(function(){var a=c(this),d=a.offset();c.data(this,"selectable-item",{element:this,$element:a,left:d.left,top:d.top,right:d.left+a.width(),bottom:d.top+a.height(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})}; this.refresh();this.selectees=b.addClass("ui-selectee");this.mouseInit();this.helper=c(document.createElement("div")).css({border:"1px dotted black"})},toggle:function(){this.options.disabled?this.enable():this.disable()},destroy:function(){this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this.mouseDestroy()},mouseStart:function(e){var b=this;this.opos=[e.pageX,e.pageY];if(!this.options.disabled){var a=this.options;this.selectees=c(a.filter, this.element[0]);this.element.triggerHandler("selectablestart",[e,{selectable:this.element[0],options:a}],a.start);c("body").append(this.helper);this.helper.css({"z-index":100,position:"absolute",left:e.clientX,top:e.clientY,width:0,height:0});a.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var d=c.data(this,"selectable-item");d.startselected=!0;e.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0, b.element.triggerHandler("selectableunselecting",[e,{selectable:b.element[0],unselecting:d.element,options:a}],a.unselecting))});var d=!1;c(e.target).parents().andSelf().each(function(){c.data(this,"selectable-item")&&(d=!0)});return this.options.keyboard?!d:!0}},mouseDrag:function(e){var b=this;this.dragged=!0;if(!this.options.disabled){var a=this.options,d=this.opos[0],f=this.opos[1],i=e.pageX,h=e.pageY;if(d>i)var g=i,i=d,d=g;f>h&&(g=h,h=f,f=g);this.helper.css({left:d,top:f,width:i-d,height:h-f}); this.selectees.each(function(){var g=c.data(this,"selectable-item");if(g&&g.element!=b.element[0]){var k=false;a.tolerance=="touch"?k=!(g.left>i||g.right<d||g.top>h||g.bottom<f):a.tolerance=="fit"&&(k=g.left>d&&g.right<i&&g.top>f&&g.bottom<h);if(k){if(g.selected){g.$element.removeClass("ui-selected");g.selected=false}if(g.unselecting){g.$element.removeClass("ui-unselecting");g.unselecting=false}if(!g.selecting){g.$element.addClass("ui-selecting");g.selecting=true;b.element.triggerHandler("selectableselecting", [e,{selectable:b.element[0],selecting:g.element,options:a}],a.selecting)}}else{if(g.selecting)if(e.ctrlKey&&g.startselected){g.$element.removeClass("ui-selecting");g.selecting=false;g.$element.addClass("ui-selected");g.selected=true}else{g.$element.removeClass("ui-selecting");g.selecting=false;if(g.startselected){g.$element.addClass("ui-unselecting");g.unselecting=true}b.element.triggerHandler("selectableunselecting",[e,{selectable:b.element[0],unselecting:g.element,options:a}],a.unselecting)}if(g.selected&& !e.ctrlKey&&!g.startselected){g.$element.removeClass("ui-selected");g.selected=false;g.$element.addClass("ui-unselecting");g.unselecting=true;b.element.triggerHandler("selectableunselecting",[e,{selectable:b.element[0],unselecting:g.element,options:a}],a.unselecting)}}}});return!1}},mouseStop:function(e){var b=this;this.dragged=!1;var a=this.options;c(".ui-unselecting",this.element[0]).each(function(){var d=c.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=!1;d.startselected= !1;b.element.triggerHandler("selectableunselected",[e,{selectable:b.element[0],unselected:d.element,options:a}],a.unselected)});c(".ui-selecting",this.element[0]).each(function(){var d=c.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=!1;d.selected=!0;d.startselected=!0;b.element.triggerHandler("selectableselected",[e,{selectable:b.element[0],selected:d.element,options:a}],a.selected)});this.element.triggerHandler("selectablestop",[e,{selectable:b.element[0], options:this.options}],this.options.stop);this.helper.remove();return!1}}));c.extend(c.ui.selectable,{defaults:{distance:1,delay:0,cancel:":input",appendTo:"body",autoRefresh:!0,filter:"*",tolerance:"touch"}})})(jQuery); (function(c){function e(b,a){var d=c.browser.safari&&522>c.browser.version;if(b.contains&&!d)return b.contains(a);if(b.compareDocumentPosition)return!!(b.compareDocumentPosition(a)&16);for(;a=a.parentNode;)if(a==b)return!0;return!1}c.widget("ui.sortable",c.extend({},c.ui.mouse,{init:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):!1;/(relative|absolute|fixed)/.test(this.element.css("position"))|| this.element.css("position","relative");this.offset=this.element.offset();this.mouseInit()},plugins:{},ui:function(b){return{helper:(b||this).helper,placeholder:(b||this).placeholder||c([]),position:(b||this).position,absolutePosition:(b||this).positionAbs,options:this.options,element:this.element,item:(b||this).currentItem,sender:b?b.element:null}},propagate:function(b,a,d,f){c.ui.plugin.call(this,b,[a,this.ui(d)]);f||this.element.triggerHandler("sort"==b?b:"sort"+b,[a,this.ui(d)],this.options[b])}, serialize:function(b){var a=(c.isFunction(this.options.items)?this.options.items.call(this.element):c(this.options.items,this.element)).not(".ui-sortable-helper"),d=[],b=b||{};a.each(function(){var a=(c(this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);a&&d.push((b.key||a[1])+"[]="+(b.key&&b.expression?a[1]:a[2]))});return d.join("&")},toArray:function(b){var a=[];(c.isFunction(this.options.items)?this.options.items.call(this.element):c(this.options.items,this.element)).not(".ui-sortable-helper").each(function(){a.push(c(this).attr(b|| "id"))});return a},intersectsWith:function(b){var a=this.positionAbs.left,d=a+this.helperProportions.width,c=this.positionAbs.top,e=c+this.helperProportions.height,h=b.left,g=h+b.width,j=b.top,k=j+b.height;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"guess"==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?c+this.offset.click.top>j&&c+this.offset.click.top<k&&a+this.offset.click.left>h&&a+this.offset.click.left< g:h<a+this.helperProportions.width/2&&d-this.helperProportions.width/2<g&&j<c+this.helperProportions.height/2&&e-this.helperProportions.height/2<k},intersectsWithEdge:function(b){var a=this.positionAbs.left,d=a+this.helperProportions.width,c=this.positionAbs.top,e=c+this.helperProportions.height,h=b.left,g=h+b.width,j=b.top,k=j+b.height;if("pointer"==this.options.tolerance||"guess"==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]){if(!(c+ this.offset.click.top>j&&c+this.offset.click.top<k&&a+this.offset.click.left>h&&a+this.offset.click.left<g))return!1;if(this.floating){if(a+this.offset.click.left>h&&a+this.offset.click.left<h+b.width/2)return 2;if(a+this.offset.click.left>h+b.width/2&&a+this.offset.click.left<g)return 1}else{if(c+this.offset.click.top>j&&c+this.offset.click.top<j+b.height/2)return 2;if(c+this.offset.click.top>j+b.height/2&&c+this.offset.click.top<k)return 1}}else{if(!(h<a+this.helperProportions.width/2&&d-this.helperProportions.width/ 2<g&&j<c+this.helperProportions.height/2&&e-this.helperProportions.height/2<k))return!1;if(this.floating){if(d>h&&a<h)return 2;if(a<g&&d>g)return 1}else{if(e>j&&c<j)return 1;if(c<k&&e>k)return 2}}return!1},refresh:function(){this.refreshItems();this.refreshPositions()},refreshItems:function(){this.items=[];this.containers=[this];var b=this.items,a=[[c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element), this]];if(this.options.connectWith)for(var d=this.options.connectWith.length-1;0<=d;d--)for(var f=c(this.options.connectWith[d]),e=f.length-1;0<=e;e--){var h=c.data(f[e],"sortable");h&&!h.options.disabled&&(a.push([c.isFunction(h.options.items)?h.options.items.call(h.element):c(h.options.items,h.element),h]),this.containers.push(h))}for(d=a.length-1;0<=d;d--)a[d][0].each(function(){c.data(this,"sortable-item",a[d][1]);b.push({item:c(this),instance:a[d][1],width:0,height:0,left:0,top:0})})},refreshPositions:function(b){if(this.offsetParent){var a= this.offsetParent.offset();this.offset.parent={top:a.top+this.offsetParentBorders.top,left:a.left+this.offsetParentBorders.left}}for(a=this.items.length-1;0<=a;a--)if(!(this.items[a].instance!=this.currentContainer&&this.currentContainer&&this.items[a].item[0]!=this.currentItem[0])){var d=this.options.toleranceElement?c(this.options.toleranceElement,this.items[a].item):this.items[a].item;b||(this.items[a].width=d[0].offsetWidth,this.items[a].height=d[0].offsetHeight);d=d.offset();this.items[a].left= d.left;this.items[a].top=d.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(a=this.containers.length-1;0<=a;a--)d=this.containers[a].element.offset(),this.containers[a].containerCache.left=d.left,this.containers[a].containerCache.top=d.top,this.containers[a].containerCache.width=this.containers[a].element.outerWidth(),this.containers[a].containerCache.height=this.containers[a].element.outerHeight()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"); this.mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData("sortable-item")},createPlaceholder:function(b){var b=b||this,a=b.options;if(a.placeholder.constructor==String){var d=a.placeholder;a.placeholder={element:function(){return c("<div></div>").addClass(d)[0]},update:function(a,d){d.css(a.offset()).css({width:a.outerWidth(),height:a.outerHeight()})}}}b.placeholder=c(a.placeholder.element.call(b.element,b.currentItem)).appendTo("body").css({position:"absolute"});a.placeholder.update.call(b.element, b.currentItem,b.placeholder)},contactContainers:function(b){for(var a=this.containers.length-1;0<=a;a--)if(this.intersectsWith(this.containers[a].containerCache)){if(!this.containers[a].containerCache.over){if(this.currentContainer!=this.containers[a]){for(var d=1E4,c=null,i=this.positionAbs[this.containers[a].floating?"left":"top"],h=this.items.length-1;0<=h;h--)if(e(this.containers[a].element[0],this.items[h].item[0])){var g=this.items[h][this.containers[a].floating?"left":"top"];Math.abs(g-i)< d&&(d=Math.abs(g-i),c=this.items[h])}if(!c&&!this.options.dropOnEmpty)continue;this.placeholder&&this.placeholder.remove();this.containers[a].options.placeholder?this.containers[a].createPlaceholder(this):this.placeholder=null;this.currentContainer=this.containers[a];c?this.rearrange(b,c,null,!0):this.rearrange(b,null,this.containers[a].element,!0);this.propagate("change",b);this.containers[a].propagate("change",b,this)}this.containers[a].propagate("over",b,this);this.containers[a].containerCache.over= 1}}else this.containers[a].containerCache.over&&(this.containers[a].propagate("out",b,this),this.containers[a].containerCache.over=0)},mouseCapture:function(b,a){if(this.options.disabled||"static"==this.options.type)return!1;this.refreshItems();var d=null,f=this;c(b.target).parents().each(function(){if(c.data(this,"sortable-item")==f)return d=c(this),!1});c.data(b.target,"sortable-item")==f&&(d=c(b.target));if(!d)return!1;if(this.options.handle&&!a){var e=!1;c(this.options.handle,d).find("*").andSelf().each(function(){this== b.target&&(e=!0)});if(!e)return!1}this.currentItem=d;return!0},mouseStart:function(b,a,d){a=this.options;this.currentContainer=this;this.refreshPositions();this.helper="function"==typeof a.helper?c(a.helper.apply(this.element[0],[b,this.currentItem])):this.currentItem.clone();this.helper.parents("body").length||c("parent"!=a.appendTo?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(this.helper[0]);this.helper.css({position:"absolute",clear:"both"}).addClass("ui-sortable-helper");this.margins= {left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0};this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.click={left:b.pageX-this.offset.left,top:b.pageY-this.offset.top};this.offsetParent=this.helper.offsetParent();var f=this.offsetParent.offset();this.offsetParentBorders={top:parseInt(this.offsetParent.css("borderTopWidth"),10)||0,left:parseInt(this.offsetParent.css("borderLeftWidth"), 10)||0};this.offset.parent={top:f.top+this.offsetParentBorders.top,left:f.left+this.offsetParentBorders.left};this.originalPosition=this.generatePosition(b);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};a.placeholder&&this.createPlaceholder();this.propagate("start",b);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if(a.cursorAt&& (void 0!=a.cursorAt.left&&(this.offset.click.left=a.cursorAt.left),void 0!=a.cursorAt.right&&(this.offset.click.left=this.helperProportions.width-a.cursorAt.right),void 0!=a.cursorAt.top&&(this.offset.click.top=a.cursorAt.top),void 0!=a.cursorAt.bottom))this.offset.click.top=this.helperProportions.height-a.cursorAt.bottom;if(a.containment){"parent"==a.containment&&(a.containment=this.helper[0].parentNode);if("document"==a.containment||"window"==a.containment)this.containment=[0-this.offset.parent.left, 0-this.offset.parent.top,c("document"==a.containment?document:window).width()-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),(c("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)];if(!/^(document|window|parent)$/.test(a.containment)){var f=c(a.containment)[0],e=c(a.containment).offset(); this.containment=[e.left+(parseInt(c(f).css("borderLeftWidth"),10)||0)-this.offset.parent.left,e.top+(parseInt(c(f).css("borderTopWidth"),10)||0)-this.offset.parent.top,e.left+Math.max(f.scrollWidth,f.offsetWidth)-(parseInt(c(f).css("borderLeftWidth"),10)||0)-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.currentItem.css("marginRight"),10)||0),e.top+Math.max(f.scrollHeight,f.offsetHeight)-(parseInt(c(f).css("borderTopWidth"),10)||0)-this.offset.parent.top-this.helperProportions.height- this.margins.top-(parseInt(this.currentItem.css("marginBottom"),10)||0)]}}"clone"!=this.options.placeholder&&this.currentItem.css("visibility","hidden");if(!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d].propagate("activate",b,this);c.ui.ddmanager&&(c.ui.ddmanager.current=this);c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this.mouseDrag(b);return!0},convertPositionTo:function(b,a){a||(a=this.position);var d="absolute"==b?1:-1;return{top:a.top+ this.offset.parent.top*d-(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)*d+this.margins.top*d,left:a.left+this.offset.parent.left*d-(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)*d+this.margins.left*d}},generatePosition:function(b){var a=this.options,b={top:b.pageY-this.offset.click.top-this.offset.parent.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop),left:b.pageX-this.offset.click.left-this.offset.parent.left+(this.offsetParent[0]== document.body?0:this.offsetParent[0].scrollLeft)};if(!this.originalPosition)return b;if(this.containment&&(b.left<this.containment[0]&&(b.left=this.containment[0]),b.top<this.containment[1]&&(b.top=this.containment[1]),b.left>this.containment[2]&&(b.left=this.containment[2]),b.top>this.containment[3]))b.top=this.containment[3];if(a.grid){var d=this.originalPosition.top+Math.round((b.top-this.originalPosition.top)/a.grid[1])*a.grid[1];b.top=this.containment?!(d<this.containment[1]||d>this.containment[3])? d:!(d<this.containment[1])?d-a.grid[1]:d+a.grid[1]:d;d=this.originalPosition.left+Math.round((b.left-this.originalPosition.left)/a.grid[0])*a.grid[0];b.left=this.containment?!(d<this.containment[0]||d>this.containment[2])?d:!(d<this.containment[0])?d-a.grid[0]:d+a.grid[0]:d}return b},mouseDrag:function(b){this.position=this.generatePosition(b);this.positionAbs=this.convertPositionTo("absolute");c.ui.plugin.call(this,"sort",[b,this.ui()]);this.positionAbs=this.convertPositionTo("absolute");this.helper[0].style.left= this.position.left+"px";this.helper[0].style.top=this.position.top+"px";for(var a=this.items.length-1;0<=a;a--){var d=this.intersectsWithEdge(this.items[a]);if(d&&this.items[a].item[0]!=this.currentItem[0]&&this.currentItem[1==d?"next":"prev"]()[0]!=this.items[a].item[0]&&!e(this.currentItem[0],this.items[a].item[0])&&("semi-dynamic"==this.options.type?!e(this.element[0],this.items[a].item[0]):1)){this.direction=1==d?"down":"up";this.rearrange(b,this.items[a]);this.propagate("change",b);break}}this.contactContainers(b); c.ui.ddmanager&&c.ui.ddmanager.drag(this,b);this.element.triggerHandler("sort",[b,this.ui()],this.options.sort);return!1},rearrange:function(b,a,d,c){d?d[0].appendChild(this.currentItem[0]):a.item[0].parentNode.insertBefore(this.currentItem[0],"down"==this.direction?a.item[0]:a.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var e=this,h=this.counter;window.setTimeout(function(){h==e.counter&&e.refreshPositions(!c)},0);this.options.placeholder&&this.options.placeholder.update.call(this.element, this.currentItem,this.placeholder)},mouseStop:function(b,a){c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,f=d.currentItem.offset();d.placeholder&&d.placeholder.animate({opacity:"hide"},(parseInt(this.options.revert,10)||500)-50);c(this.helper).animate({left:f.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]== document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d.clear(b)})}else this.clear(b,a);return!1},clear:function(b,a){(this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&this.propagate("update",b,null,a);if(!e(this.element[0],this.currentItem[0])){this.propagate("remove",b,null,a);for(var d=this.containers.length-1;0<=d;d--)e(this.containers[d].element[0],this.currentItem[0])&& (this.containers[d].propagate("update",b,this,a),this.containers[d].propagate("receive",b,this,a))}for(d=this.containers.length-1;0<=d;d--)this.containers[d].propagate("deactivate",b,this,a),this.containers[d].containerCache.over&&(this.containers[d].propagate("out",b,this),this.containers[d].containerCache.over=0);this.dragging=!1;if(this.cancelHelperRemoval)return this.propagate("stop",b,null,a),!1;c(this.currentItem).css("visibility","");this.placeholder&&this.placeholder.remove();this.helper.remove(); this.helper=null;this.propagate("stop",b,null,a);return!0}}));c.extend(c.ui.sortable,{getter:"serialize toArray",defaults:{helper:"clone",tolerance:"guess",distance:1,delay:0,scroll:!0,scrollSensitivity:20,scrollSpeed:20,cancel:":input",items:"> *",zIndex:1E3,dropOnEmpty:!0,appendTo:"parent"}});c.ui.plugin.add("sortable","cursor",{start:function(b,a){var d=c("body");d.css("cursor")&&(a.options._cursor=d.css("cursor"));d.css("cursor",a.options.cursor)},stop:function(b,a){a.options._cursor&&c("body").css("cursor", a.options._cursor)}});c.ui.plugin.add("sortable","zIndex",{start:function(b,a){var d=a.helper;d.css("zIndex")&&(a.options._zIndex=d.css("zIndex"));d.css("zIndex",a.options.zIndex)},stop:function(b,a){a.options._zIndex&&c(a.helper).css("zIndex",a.options._zIndex)}});c.ui.plugin.add("sortable","opacity",{start:function(b,a){var d=a.helper;d.css("opacity")&&(a.options._opacity=d.css("opacity"));d.css("opacity",a.options.opacity)},stop:function(b,a){a.options._opacity&&c(a.helper).css("opacity",a.options._opacity)}}); c.ui.plugin.add("sortable","scroll",{start:function(){var b=c(this).data("sortable"),a;a:{a=b.currentItem;do{if(/auto|scroll/.test(a.css("overflow"))||/auto|scroll/.test(a.css("overflow-y")))break a;a=a.parent()}while(a[0].parentNode);a=c(document)}b.overflowY=a;a:{a=b.currentItem;do{if(/auto|scroll/.test(a.css("overflow"))||/auto|scroll/.test(a.css("overflow-x")))break a;a=a.parent()}while(a[0].parentNode);a=c(document)}b.overflowX=a;b.overflowY[0]!=document&&"HTML"!=b.overflowY[0].tagName&&(b.overflowYOffset= b.overflowY.offset());b.overflowX[0]!=document&&"HTML"!=b.overflowX[0].tagName&&(b.overflowXOffset=b.overflowX.offset())},sort:function(b,a){var d=a.options,f=c(this).data("sortable");if(f.overflowY[0]!=document&&"HTML"!=f.overflowY[0].tagName){if(f.overflowYOffset.top+f.overflowY[0].offsetHeight-b.pageY<d.scrollSensitivity&&(f.overflowY[0].scrollTop+=d.scrollSpeed),b.pageY-f.overflowYOffset.top<d.scrollSensitivity)f.overflowY[0].scrollTop-=d.scrollSpeed}else b.pageY-c(document).scrollTop()<d.scrollSensitivity&& c(document).scrollTop(c(document).scrollTop()-d.scrollSpeed),c(window).height()-(b.pageY-c(document).scrollTop())<d.scrollSensitivity&&c(document).scrollTop(c(document).scrollTop()+d.scrollSpeed);if(f.overflowX[0]!=document&&"HTML"!=f.overflowX[0].tagName){if(f.overflowXOffset.left+f.overflowX[0].offsetWidth-b.pageX<d.scrollSensitivity&&(f.overflowX[0].scrollLeft+=d.scrollSpeed),b.pageX-f.overflowXOffset.left<d.scrollSensitivity)f.overflowX[0].scrollLeft-=d.scrollSpeed}else b.pageX-c(document).scrollLeft()< d.scrollSensitivity&&c(document).scrollLeft(c(document).scrollLeft()-d.scrollSpeed),c(window).width()-(b.pageX-c(document).scrollLeft())<d.scrollSensitivity&&c(document).scrollLeft(c(document).scrollLeft()+d.scrollSpeed)}});c.ui.plugin.add("sortable","axis",{sort:function(b,a){var d=c(this).data("sortable");"y"==a.options.axis&&(d.position.left=d.originalPosition.left);"x"==a.options.axis&&(d.position.top=d.originalPosition.top)}})})(jQuery); (function(c){function e(a){var d;return a&&a.constructor==Array&&3==a.length?a:(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]:(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?[2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3])]:(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]: (d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(a)?b.transparent:b[jQuery.trim(a).toLowerCase()]}c.effects=c.effects||{};c.extend(c.effects,{save:function(a,d){for(var b=0;b<d.length;b++)null!==d[b]&&c.data(a[0],"ec.storage."+d[b],a[0].style[d[b]])},restore:function(a,d){for(var b=0;b<d.length;b++)null!==d[b]&&a.css(d[b],c.data(a[0],"ec.storage."+d[b]))},setMode:function(a,d){"toggle"==d&&(d=a.is(":hidden")? "show":"hide");return d},getBaseline:function(a,d){var b,c;switch(a[0]){case "top":b=0;break;case "middle":b=0.5;break;case "bottom":b=1;break;default:b=a[0]/d.height}switch(a[1]){case "left":c=0;break;case "center":c=0.5;break;case "right":c=1;break;default:c=a[1]/d.width}return{x:c,y:b}},createWrapper:function(a){if("fxWrapper"==a.parent().attr("id"))return a;var d={width:a.outerWidth({margin:!0}),height:a.outerHeight({margin:!0}),"float":a.css("float")};a.wrap('<div id="fxWrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>'); var b=a.parent();if("static"==a.css("position"))b.css({position:"relative"}),a.css({position:"relative"});else{var c=a.css("top");isNaN(parseInt(c))&&(c="auto");var e=a.css("left");isNaN(parseInt(e))&&(e="auto");b.css({position:a.css("position"),top:c,left:e,zIndex:a.css("z-index")}).show();a.css({position:"relative",top:0,left:0})}b.css(d);return b},removeWrapper:function(a){return"fxWrapper"==a.parent().attr("id")?a.parent().replaceWith(a):a},setTransition:function(a,d,b,e){e=e||{};c.each(d,function(d, c){unit=a.cssUnit(c);0<unit[0]&&(e[c]=unit[0]*b+unit[1])});return e},animateClass:function(a,d,b,e){var h="function"==typeof b?b:e?e:null,g="object"==typeof b?b:null;return this.each(function(){var b={},f=c(this),e=f.attr("style")||"";"object"==typeof e&&(e=e.cssText);a.toggle&&(f.hasClass(a.toggle)?a.remove=a.toggle:a.add=a.toggle);var i=c.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);a.add&&f.addClass(a.add);a.remove&&f.removeClass(a.remove); var m=c.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);a.add&&f.removeClass(a.add);a.remove&&f.addClass(a.remove);for(var n in m)if("function"!=typeof m[n]&&m[n]&&-1==n.indexOf("Moz")&&-1==n.indexOf("length")&&m[n]!=i[n]&&(n.match(/color/i)||!n.match(/color/i)&&!isNaN(parseInt(m[n],10)))&&("static"!=i.position||"static"==i.position&&!n.match(/left|top|bottom|right/)))b[n]=m[n];f.animate(b,d,g,function(){if(typeof c(this).attr("style")=="object"){c(this).attr("style").cssText= "";c(this).attr("style").cssText=e}else c(this).attr("style",e);a.add&&c(this).addClass(a.add);a.remove&&c(this).removeClass(a.remove);h&&h.apply(this,arguments)})})}});c.fn.extend({_show:c.fn.show,_hide:c.fn.hide,__toggle:c.fn.toggle,_addClass:c.fn.addClass,_removeClass:c.fn.removeClass,_toggleClass:c.fn.toggleClass,effect:function(a,d,b,e){return c.effects[a]?c.effects[a].call(this,{method:a,options:d||{},duration:b,callback:e}):null},show:function(){if(!arguments[0]||arguments[0].constructor== Number||/(slow|normal|fast)/.test(arguments[0]))return this._show.apply(this,arguments);var a=arguments[1]||{};a.mode="show";return this.effect.apply(this,[arguments[0],a,arguments[2]||a.duration,arguments[3]||a.callback])},hide:function(){if(!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0]))return this._hide.apply(this,arguments);var a=arguments[1]||{};a.mode="hide";return this.effect.apply(this,[arguments[0],a,arguments[2]||a.duration,arguments[3]||a.callback])}, toggle:function(){if(!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])||arguments[0].constructor==Function)return this.__toggle.apply(this,arguments);var a=arguments[1]||{};a.mode="toggle";return this.effect.apply(this,[arguments[0],a,arguments[2]||a.duration,arguments[3]||a.callback])},addClass:function(a,d,b,e){return d?c.effects.animateClass.apply(this,[{add:a},d,b,e]):this._addClass(a)},removeClass:function(a,d,b,e){return d?c.effects.animateClass.apply(this, [{remove:a},d,b,e]):this._removeClass(a)},toggleClass:function(a,d,b,e){return d?c.effects.animateClass.apply(this,[{toggle:a},d,b,e]):this._toggleClass(a)},morph:function(a,d,b,e,h){return c.effects.animateClass.apply(this,[{add:d,remove:a},b,e,h])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(a){var d=this.css(a),b=[];c.each(["em","px","%","pt"],function(a,c){0<d.indexOf(c)&&(b=[parseFloat(d),c])});return b}});jQuery.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "), function(a,d){jQuery.fx.step[d]=function(a){if(a.state==0){var b;b=a.elem;var c=d,g;do{g=jQuery.curCSS(b,c);if(g!=""&&g!="transparent"||jQuery.nodeName(b,"body"))break;c="backgroundColor"}while(b=b.parentNode);b=e(g);a.start=b;a.end=e(a.end)}a.elem.style[d]="rgb("+[Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2]),255),0)].join()+")"}}); var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173, 216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,d, b,c,e){return jQuery.easing[jQuery.easing.def](a,d,b,c,e)},easeInQuad:function(a,d,b,c,e){return c*(d/=e)*d+b},easeOutQuad:function(a,d,b,c,e){return-c*(d/=e)*(d-2)+b},easeInOutQuad:function(a,d,b,c,e){return 1>(d/=e/2)?c/2*d*d+b:-c/2*(--d*(d-2)-1)+b},easeInCubic:function(a,d,b,c,e){return c*(d/=e)*d*d+b},easeOutCubic:function(a,d,b,c,e){return c*((d=d/e-1)*d*d+1)+b},easeInOutCubic:function(a,d,b,c,e){return 1>(d/=e/2)?c/2*d*d*d+b:c/2*((d-=2)*d*d+2)+b},easeInQuart:function(a,d,b,c,e){return c*(d/= e)*d*d*d+b},easeOutQuart:function(a,d,b,c,e){return-c*((d=d/e-1)*d*d*d-1)+b},easeInOutQuart:function(a,d,b,c,e){return 1>(d/=e/2)?c/2*d*d*d*d+b:-c/2*((d-=2)*d*d*d-2)+b},easeInQuint:function(a,d,b,c,e){return c*(d/=e)*d*d*d*d+b},easeOutQuint:function(a,d,b,c,e){return c*((d=d/e-1)*d*d*d*d+1)+b},easeInOutQuint:function(a,d,b,c,e){return 1>(d/=e/2)?c/2*d*d*d*d*d+b:c/2*((d-=2)*d*d*d*d+2)+b},easeInSine:function(a,d,b,c,e){return-c*Math.cos(d/e*(Math.PI/2))+c+b},easeOutSine:function(a,d,b,c,e){return c* Math.sin(d/e*(Math.PI/2))+b},easeInOutSine:function(a,d,b,c,e){return-c/2*(Math.cos(Math.PI*d/e)-1)+b},easeInExpo:function(a,d,b,c,e){return 0==d?b:c*Math.pow(2,10*(d/e-1))+b},easeOutExpo:function(a,d,b,c,e){return d==e?b+c:c*(-Math.pow(2,-10*d/e)+1)+b},easeInOutExpo:function(a,d,b,c,e){return 0==d?b:d==e?b+c:1>(d/=e/2)?c/2*Math.pow(2,10*(d-1))+b:c/2*(-Math.pow(2,-10*--d)+2)+b},easeInCirc:function(a,d,b,c,e){return-c*(Math.sqrt(1-(d/=e)*d)-1)+b},easeOutCirc:function(a,d,b,c,e){return c*Math.sqrt(1- (d=d/e-1)*d)+b},easeInOutCirc:function(a,d,b,c,e){return 1>(d/=e/2)?-c/2*(Math.sqrt(1-d*d)-1)+b:c/2*(Math.sqrt(1-(d-=2)*d)+1)+b},easeInElastic:function(a,d,b,c,e){var a=1.70158,g=0,j=c;if(0==d)return b;if(1==(d/=e))return b+c;g||(g=0.3*e);j<Math.abs(c)?(j=c,a=g/4):a=g/(2*Math.PI)*Math.asin(c/j);return-(j*Math.pow(2,10*(d-=1))*Math.sin((d*e-a)*2*Math.PI/g))+b},easeOutElastic:function(a,d,b,c,e){var a=1.70158,g=0,j=c;if(0==d)return b;if(1==(d/=e))return b+c;g||(g=0.3*e);j<Math.abs(c)?(j=c,a=g/4):a= g/(2*Math.PI)*Math.asin(c/j);return j*Math.pow(2,-10*d)*Math.sin((d*e-a)*2*Math.PI/g)+c+b},easeInOutElastic:function(a,d,b,c,e){var a=1.70158,g=0,j=c;if(0==d)return b;if(2==(d/=e/2))return b+c;g||(g=e*0.3*1.5);j<Math.abs(c)?(j=c,a=g/4):a=g/(2*Math.PI)*Math.asin(c/j);return 1>d?-0.5*j*Math.pow(2,10*(d-=1))*Math.sin((d*e-a)*2*Math.PI/g)+b:0.5*j*Math.pow(2,-10*(d-=1))*Math.sin((d*e-a)*2*Math.PI/g)+c+b},easeInBack:function(a,d,b,c,e,g){void 0==g&&(g=1.70158);return c*(d/=e)*d*((g+1)*d-g)+b},easeOutBack:function(a, d,b,c,e,g){void 0==g&&(g=1.70158);return c*((d=d/e-1)*d*((g+1)*d+g)+1)+b},easeInOutBack:function(a,d,b,c,e,g){void 0==g&&(g=1.70158);return 1>(d/=e/2)?c/2*d*d*(((g*=1.525)+1)*d-g)+b:c/2*((d-=2)*d*(((g*=1.525)+1)*d+g)+2)+b},easeInBounce:function(a,d,b,c,e){return c-jQuery.easing.easeOutBounce(a,e-d,0,c,e)+b},easeOutBounce:function(a,d,b,c,e){return(d/=e)<1/2.75?c*7.5625*d*d+b:d<2/2.75?c*(7.5625*(d-=1.5/2.75)*d+0.75)+b:d<2.5/2.75?c*(7.5625*(d-=2.25/2.75)*d+0.9375)+b:c*(7.5625*(d-=2.625/2.75)*d+0.984375)+ b},easeInOutBounce:function(a,d,b,c,e){return d<e/2?0.5*jQuery.easing.easeInBounce(a,2*d,0,c,e)+b:0.5*jQuery.easing.easeOutBounce(a,2*d-e,0,c,e)+0.5*c+b}})})(jQuery); (function(c){c.effects.blind=function(e){return this.queue(function(){var b=c(this),a=["position","top","left"],d=c.effects.setMode(b,e.options.mode||"hide"),f=e.options.direction||"vertical";c.effects.save(b,a);b.show();var i=c.effects.createWrapper(b).css({overflow:"hidden"}),h="vertical"==f?"height":"width",f="vertical"==f?i.height():i.width();"show"==d&&i.css(h,0);var g={};g[h]="show"==d?f:0;i.animate(g,e.duration,e.options.easing,function(){"hide"==d&&b.hide();c.effects.restore(b,a);c.effects.removeWrapper(b); e.callback&&e.callback.apply(b[0],arguments);b.dequeue()})})}})(jQuery); (function(c){c.effects.bounce=function(e){return this.queue(function(){var b=c(this),a=["position","top","left"],d=c.effects.setMode(b,e.options.mode||"effect"),f=e.options.direction||"up",i=e.options.distance||20,h=e.options.times||5,g=e.duration||250;/show|hide/.test(d)&&a.push("opacity");c.effects.save(b,a);b.show();c.effects.createWrapper(b);var j="up"==f||"down"==f?"top":"left",f="up"==f||"left"==f?"pos":"neg",i=e.options.distance||("top"==j?b.outerHeight({margin:!0})/3:b.outerWidth({margin:!0})/ 3);"show"==d&&b.css("opacity",0).css(j,"pos"==f?-i:i);"hide"==d&&(i/=2*h);"hide"!=d&&h--;if("show"==d){var k={opacity:1};k[j]=("pos"==f?"+=":"-=")+i;b.animate(k,g/2,e.options.easing);i/=2;h--}for(k=0;k<h;k++){var l={},o={};l[j]=("pos"==f?"-=":"+=")+i;o[j]=("pos"==f?"+=":"-=")+i;b.animate(l,g/2,e.options.easing).animate(o,g/2,e.options.easing);i="hide"==d?2*i:i/2}"hide"==d?(k={opacity:0},k[j]=("pos"==f?"-=":"+=")+i,b.animate(k,g/2,e.options.easing,function(){b.hide();c.effects.restore(b,a);c.effects.removeWrapper(b); e.callback&&e.callback.apply(this,arguments)})):(l={},o={},l[j]=("pos"==f?"-=":"+=")+i,o[j]=("pos"==f?"+=":"-=")+i,b.animate(l,g/2,e.options.easing).animate(o,g/2,e.options.easing,function(){c.effects.restore(b,a);c.effects.removeWrapper(b);e.callback&&e.callback.apply(this,arguments)}));b.queue("fx",function(){b.dequeue()});b.dequeue()})}})(jQuery); (function(c){c.effects.clip=function(e){return this.queue(function(){var b=c(this),a=["position","top","left","height","width"],d=c.effects.setMode(b,e.options.mode||"hide"),f=e.options.direction||"vertical";c.effects.save(b,a);b.show();var i=c.effects.createWrapper(b).css({overflow:"hidden"}),i="IMG"==b[0].tagName?i:b,h="vertical"==f?"height":"width",g="vertical"==f?"top":"left",f="vertical"==f?i.height():i.width();"show"==d&&(i.css(h,0),i.css(g,f/2));var j={};j[h]="show"==d?f:0;j[g]="show"==d?0: f/2;i.animate(j,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){d=="hide"&&b.hide();c.effects.restore(b,a);c.effects.removeWrapper(b);e.callback&&e.callback.apply(b[0],arguments);b.dequeue()}})})}})(jQuery); (function(c){c.effects.drop=function(e){return this.queue(function(){var b=c(this),a=["position","top","left","opacity"],d=c.effects.setMode(b,e.options.mode||"hide"),f=e.options.direction||"left";c.effects.save(b,a);b.show();c.effects.createWrapper(b);var i="up"==f||"down"==f?"top":"left",f="up"==f||"left"==f?"pos":"neg",h=e.options.distance||("top"==i?b.outerHeight({margin:!0})/2:b.outerWidth({margin:!0})/2);"show"==d&&b.css("opacity",0).css(i,"pos"==f?-h:h);var g={opacity:"show"==d?1:0};g[i]=("show"== d?"pos"==f?"+=":"-=":"pos"==f?"-=":"+=")+h;b.animate(g,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==d&&b.hide();c.effects.restore(b,a);c.effects.removeWrapper(b);e.callback&&e.callback.apply(this,arguments);b.dequeue()}})})}})(jQuery); (function(c){c.effects.explode=function(e){return this.queue(function(){var b=e.options.pieces?Math.round(Math.sqrt(e.options.pieces)):3,a=e.options.pieces?Math.round(Math.sqrt(e.options.pieces)):3;e.options.mode="toggle"==e.options.mode?c(this).is(":visible")?"hide":"show":e.options.mode;var d=c(this).show().css("visibility","hidden"),f=d.offset();f.top-=parseInt(d.css("marginTop"))||0;f.left-=parseInt(d.css("marginLeft"))||0;for(var i=d.outerWidth(!0),h=d.outerHeight(!0),g=0;g<b;g++)for(var j=0;j< a;j++)d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(i/a),top:-g*(h/b)}).parent().addClass("effects-explode").css({position:"absolute",overflow:"hidden",width:i/a,height:h/b,left:f.left+j*(i/a)+("show"==e.options.mode?(j-Math.floor(a/2))*(i/a):0),top:f.top+g*(h/b)+("show"==e.options.mode?(g-Math.floor(b/2))*(h/b):0),opacity:"show"==e.options.mode?0:1}).animate({left:f.left+j*(i/a)+("show"==e.options.mode?0:(j-Math.floor(a/2))*(i/a)),top:f.top+ g*(h/b)+("show"==e.options.mode?0:(g-Math.floor(b/2))*(h/b)),opacity:"show"==e.options.mode?1:0},e.duration||500);setTimeout(function(){"show"==e.options.mode?d.css({visibility:"visible"}):d.css({visibility:"visible"}).hide();e.callback&&e.callback.apply(d[0]);d.dequeue();c(".effects-explode").remove()},e.duration||500)})}})(jQuery); (function(c){c.effects.fold=function(e){return this.queue(function(){var b=c(this),a=["position","top","left"],d=c.effects.setMode(b,e.options.mode||"hide"),f=e.options.size||15,i=!!e.options.horizFirst;c.effects.save(b,a);b.show();var h=c.effects.createWrapper(b).css({overflow:"hidden"}),g="show"==d!=i,j=g?["width","height"]:["height","width"],g=g?[h.width(),h.height()]:[h.height(),h.width()],k=/([0-9]+)%/.exec(f);k&&(f=parseInt(k[1])/100*g["hide"==d?0:1]);"show"==d&&h.css(i?{height:0,width:f}:{height:f, width:0});i={};k={};i[j[0]]="show"==d?g[0]:f;k[j[1]]="show"==d?g[1]:0;h.animate(i,e.duration/2,e.options.easing).animate(k,e.duration/2,e.options.easing,function(){"hide"==d&&b.hide();c.effects.restore(b,a);c.effects.removeWrapper(b);e.callback&&e.callback.apply(b[0],arguments);b.dequeue()})})}})(jQuery); (function(c){c.effects.highlight=function(e){return this.queue(function(){var b=c(this),a=["backgroundImage","backgroundColor","opacity"],d=c.effects.setMode(b,e.options.mode||"show"),f=e.options.color||"#ffff99",i=b.css("backgroundColor");c.effects.save(b,a);b.show();b.css({backgroundImage:"none",backgroundColor:f});f={backgroundColor:i};"hide"==d&&(f.opacity=0);b.animate(f,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==d&&b.hide();c.effects.restore(b,a);"show"== d&&jQuery.browser.msie&&this.style.removeAttribute("filter");e.callback&&e.callback.apply(this,arguments);b.dequeue()}})})}})(jQuery); (function(c){c.effects.pulsate=function(e){return this.queue(function(){var b=c(this),a=c.effects.setMode(b,e.options.mode||"show"),d=e.options.times||5;"hide"==a&&d--;b.is(":hidden")&&(b.css("opacity",0),b.show(),b.animate({opacity:1},e.duration/2,e.options.easing),d-=2);for(var f=0;f<d;f++)b.animate({opacity:0},e.duration/2,e.options.easing).animate({opacity:1},e.duration/2,e.options.easing);"hide"==a?b.animate({opacity:0},e.duration/2,e.options.easing,function(){b.hide();e.callback&&e.callback.apply(this, arguments)}):b.animate({opacity:0},e.duration/2,e.options.easing).animate({opacity:1},e.duration/2,e.options.easing,function(){e.callback&&e.callback.apply(this,arguments)});b.queue("fx",function(){b.dequeue()});b.dequeue()})}})(jQuery); (function(c){c.effects.puff=function(e){return this.queue(function(){var b=c(this),a=c.extend(!0,{},e.options),d=c.effects.setMode(b,e.options.mode||"hide"),f=parseInt(e.options.percent)||150;a.fade=!0;var i={height:b.height(),width:b.width()},h=f/100;b.from="hide"==d?i:{height:i.height*h,width:i.width*h};a.from=b.from;a.percent="hide"==d?f:100;a.mode=d;b.effect("scale",a,e.duration,e.callback);b.dequeue()})};c.effects.scale=function(e){return this.queue(function(){var b=c(this),a=c.extend(!0,{}, e.options),d=c.effects.setMode(b,e.options.mode||"effect"),f=parseInt(e.options.percent)||(0==parseInt(e.options.percent)?0:"hide"==d?0:100),i=e.options.direction||"both",h=e.options.origin;"effect"!=d&&(a.origin=h||["middle","center"],a.restore=!0);h={height:b.height(),width:b.width()};b.from=e.options.from||("show"==d?{height:0,width:0}:h);b.to={height:h.height*("horizontal"!=i?f/100:1),width:h.width*("vertical"!=i?f/100:1)};if(e.options.fade&&("show"==d&&(b.from.opacity=0,b.to.opacity=1),"hide"== d))b.from.opacity=1,b.to.opacity=0;a.from=b.from;a.to=b.to;a.mode=d;b.effect("size",a,e.duration,e.callback);b.dequeue()})};c.effects.size=function(e){return this.queue(function(){var b=c(this),a="position top left width height overflow opacity".split(" "),d=["position","top","left","overflow","opacity"],f=["width","height","overflow"],i=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],g=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=c.effects.setMode(b, e.options.mode||"effect"),k=e.options.restore||!1,l=e.options.scale||"both",o=e.options.origin,m={height:b.height(),width:b.width()};b.from=e.options.from||m;b.to=e.options.to||m;o&&(o=c.effects.getBaseline(o,m),b.from.top=(m.height-b.from.height)*o.y,b.from.left=(m.width-b.from.width)*o.x,b.to.top=(m.height-b.to.height)*o.y,b.to.left=(m.width-b.to.width)*o.x);var n=b.from.height/m.height,t=b.from.width/m.width,q=b.to.height/m.height,u=b.to.width/m.width;if("box"==l||"both"==l)if(n!=q&&(a=a.concat(h), b.from=c.effects.setTransition(b,h,n,b.from),b.to=c.effects.setTransition(b,h,q,b.to)),t!=u)a=a.concat(g),b.from=c.effects.setTransition(b,g,t,b.from),b.to=c.effects.setTransition(b,g,u,b.to);if(("content"==l||"both"==l)&&n!=q)a=a.concat(i),b.from=c.effects.setTransition(b,i,n,b.from),b.to=c.effects.setTransition(b,i,q,b.to);c.effects.save(b,k?a:d);b.show();c.effects.createWrapper(b);b.css("overflow","hidden").css(b.from);if("content"==l||"both"==l)h=h.concat(["marginTop","marginBottom"]).concat(i), g=g.concat(["marginLeft","marginRight"]),f=a.concat(h).concat(g),b.find("*[width]").each(function(){child=c(this);k&&c.effects.save(child,f);var a=child.height(),d=child.width();child.from={height:a*n,width:d*t};child.to={height:a*q,width:d*u};if(n!=q){child.from=c.effects.setTransition(child,h,n,child.from);child.to=c.effects.setTransition(child,h,q,child.to)}if(t!=u){child.from=c.effects.setTransition(child,g,t,child.from);child.to=c.effects.setTransition(child,g,u,child.to)}child.css(child.from); child.animate(child.to,e.duration,e.options.easing,function(){k&&c.effects.restore(child,f)})});b.animate(b.to,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){j=="hide"&&b.hide();c.effects.restore(b,k?a:d);c.effects.removeWrapper(b);e.callback&&e.callback.apply(this,arguments);b.dequeue()}})})}})(jQuery); (function(c){c.effects.shake=function(e){return this.queue(function(){var b=c(this),a=["position","top","left"];c.effects.setMode(b,e.options.mode||"effect");var d=e.options.direction||"left",f=e.options.distance||20,i=e.options.times||3,h=e.duration||e.options.duration||140;c.effects.save(b,a);b.show();c.effects.createWrapper(b);var g="up"==d||"down"==d?"top":"left",j="up"==d||"left"==d?"pos":"neg",d={},k={},l={};d[g]=("pos"==j?"-=":"+=")+f;k[g]=("pos"==j?"+=":"-=")+2*f;l[g]=("pos"==j?"-=":"+=")+ 2*f;b.animate(d,h,e.options.easing);for(f=1;f<i;f++)b.animate(k,h,e.options.easing).animate(l,h,e.options.easing);b.animate(k,h,e.options.easing).animate(d,h/2,e.options.easing,function(){c.effects.restore(b,a);c.effects.removeWrapper(b);e.callback&&e.callback.apply(this,arguments)});b.queue("fx",function(){b.dequeue()});b.dequeue()})}})(jQuery); (function(c){c.effects.slide=function(e){return this.queue(function(){var b=c(this),a=["position","top","left"],d=c.effects.setMode(b,e.options.mode||"show"),f=e.options.direction||"left";c.effects.save(b,a);b.show();c.effects.createWrapper(b).css({overflow:"hidden"});var i="up"==f||"down"==f?"top":"left",f="up"==f||"left"==f?"pos":"neg",h=e.options.distance||("top"==i?b.outerHeight({margin:!0}):b.outerWidth({margin:!0}));"show"==d&&b.css(i,"pos"==f?-h:h);var g={};g[i]=("show"==d?"pos"==f?"+=":"-=": "pos"==f?"-=":"+=")+h;b.animate(g,{queue:!1,duration:e.duration,easing:e.options.easing,complete:function(){"hide"==d&&b.hide();c.effects.restore(b,a);c.effects.removeWrapper(b);e.callback&&e.callback.apply(this,arguments);b.dequeue()}})})}})(jQuery); (function(c){c.effects.transfer=function(e){return this.queue(function(){var b=c(this);c.effects.setMode(b,e.options.mode||"effect");var a=c(e.options.to),d=b.offset(),f=c('<div class="ui-effects-transfer"></div>').appendTo(document.body);e.options.className&&f.addClass(e.options.className);f.addClass(e.options.className);f.css({top:d.top,left:d.left,height:b.outerHeight()-parseInt(f.css("borderTopWidth"))-parseInt(f.css("borderBottomWidth")),width:b.outerWidth()-parseInt(f.css("borderLeftWidth"))- parseInt(f.css("borderRightWidth")),position:"absolute"});d=a.offset();animation={top:d.top,left:d.left,height:a.outerHeight()-parseInt(f.css("borderTopWidth"))-parseInt(f.css("borderBottomWidth")),width:a.outerWidth()-parseInt(f.css("borderLeftWidth"))-parseInt(f.css("borderRightWidth"))};f.animate(animation,e.duration,e.options.easing,function(){f.remove();e.callback&&e.callback.apply(b[0],arguments);b.dequeue()})})}})(jQuery); (function(c){function e(a){if(c.data(this,"accordion")){var d=c.data(this,"accordion"),b=d.options;b.running=a?0:--b.running;b.running||(b.clearStyle&&b.toShow.add(b.toHide).css({height:"",overflow:""}),c(this).triggerHandler("accordionchange",[c.event.fix({type:"accordionchange",target:d.element[0]}),b.data],b.change))}}function b(a,d,b,g,j){var k=c.data(this,"accordion").options;k.toShow=a;k.toHide=d;k.data=b;var l=e,o=this,b=function(){return l.apply(o,arguments)};k.running=0===d.size()?a.size(): d.size();if(k.animated)if(!k.alwaysOpen&&g)c.ui.accordion.animations[k.animated]({toShow:jQuery([]),toHide:d,complete:b,down:j,autoHeight:k.autoHeight});else c.ui.accordion.animations[k.animated]({toShow:a,toHide:d,complete:b,down:j,autoHeight:k.autoHeight});else!k.alwaysOpen&&g?a.toggle():(d.hide(),a.show()),b(!0)}function a(a){var d=c.data(this,"accordion").options;if(d.disabled)return!1;if(!a.target&&!d.alwaysOpen){d.active.parent().andSelf().toggleClass(d.selectedClass);var a=d.active.next(), e={options:d,newHeader:jQuery([]),oldHeader:d.active,newContent:jQuery([]),oldContent:a},g=d.active=c([]);b.call(this,g,a,e);return!1}var j=c(a.target),j=c(j.parents(d.header)[0]||j),k=j[0]==d.active[0];if(d.running||d.alwaysOpen&&k)return!1;if(j.is(d.header)){d.active.parent().andSelf().toggleClass(d.selectedClass);k||j.parent().andSelf().addClass(d.selectedClass);var g=j.next(),a=d.active.next(),e={options:d,newHeader:j,oldHeader:d.active,newContent:g,oldContent:a},l=d.headers.index(d.active[0])> d.headers.index(j[0]);d.active=k?c([]):j;b.call(this,g,a,e,k,l);return!1}}function d(a,d){return void 0!=d?"number"==typeof d?a.filter(":eq("+d+")"):a.not(a.not(d)):!1===d?c([]):a.filter(":eq(0)")}c.widget("ui.accordion",{init:function(){var b=this.options;if(b.navigation){var e=this.element.find("a").filter(b.navigationFilter);e.length&&(e.filter(b.header).length?b.active=e:(b.active=e.parent().parent().prev(),e.addClass("current")))}b.headers=this.element.find(b.header);b.active=d(b.headers,b.active); c.browser.msie&&this.element.find("a").css("zoom","1");this.element.hasClass("ui-accordion")||(this.element.addClass("ui-accordion"),c("<span class='ui-accordion-left'/>").insertBefore(b.headers),c("<span class='ui-accordion-right'/>").appendTo(b.headers),b.headers.addClass("ui-accordion-header").attr("tabindex","0"));this.size();b.headers.not(b.active||"").next().hide();b.active.parent().andSelf().addClass(b.selectedClass);b.event&&this.element.bind(b.event+".accordion",a)},activate:function(b){a.call(this.element[0], {target:d(this.options.headers,b)[0]})},destroy:function(){this.options.headers.next().css("display","");(this.options.fillSpace||this.options.autoHeight)&&this.options.headers.next().css("height","");c.removeData(this.element[0],"accordion");this.element.removeClass("ui-accordion").unbind(".accordion")},size:function(){var a=this.options,d=0,b=0;a.fillSpace?(d=this.element.parent().height(),a.headers.each(function(){d-=c(this).outerHeight()}),a.headers.next().each(function(){b=Math.max(b,c(this).innerHeight()- c(this).height())}).height(d-b)):a.autoHeight&&a.headers.next().each(function(){d=Math.max(d,c(this).outerHeight())}).height(d)}});c.extend(c.ui.accordion,{defaults:{selectedClass:"selected",alwaysOpen:!0,animated:"slide",event:"click",header:"a",autoHeight:!0,running:0,navigationFilter:function(){return this.href.toLowerCase()==location.href.toLowerCase()}},animations:{slide:function(a,d){a=c.extend({easing:"swing",duration:300},a,d);if(a.toHide.size()){var b=a.toHide.height(),e=a.toShow.height()/ b;a.toShow.css({height:0,overflow:"hidden"}).show();a.toHide.filter(":hidden").each(a.complete).end().filter(":visible").animate({height:"hide"},{step:function(d){d=(b-d)*e;if(c.browser.msie||c.browser.opera)d=Math.ceil(d);a.toShow.height(d)},duration:a.duration,easing:a.easing,complete:function(){a.autoHeight||a.toShow.css("height","auto");a.complete()}})}else a.toShow.animate({height:"show"},a)},bounceslide:function(a){this.slide(a,{easing:a.down?"bounceout":"swing",duration:a.down?1E3:200})},easeslide:function(a){this.slide(a, {easing:"easeinout",duration:700})}}});c.fn.activate=function(a){return this.accordion("activate",a)}})(jQuery); (function(c){function e(){this.debug=!1;this._curInst=null;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._promptClass="ui-datepicker-prompt";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this.regional=[];this.regional[""]={clearText:"Clear",clearStatus:"Erase the current date", closeText:"Close",closeStatus:"Close without change",prevText:"&#x3c;Prev",prevStatus:"Show the previous month",nextText:"Next&#x3e;",nextStatus:"Show the next month",currentText:"Today",currentStatus:"Show the current month",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthStatus:"Show a different month",yearStatus:"Show a different year",weekHeader:"Wk", weekStatus:"Week of the year",dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),dayStatus:"Set DD as first week day",dateStatus:"Select DD, M d",dateFormat:"mm/dd/yy",firstDay:0,initStatus:"Select a date",isRTL:!1};this._defaults={showOn:"focus",showAnim:"show",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,closeAtTop:!0, mandatory:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!0,changeYear:!0,yearRange:"-10:+10",changeFirstDay:!0,highlightWeek:!1,showOtherMonths:!1,showWeeks:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",showStatus:!1,statusForDate:this.dateStatus,minDate:null,maxDate:null,duration:"normal",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,stepMonths:1,rangeSelect:!1,rangeSeparator:" - ",altField:"",altFormat:""}; c.extend(this._defaults,this.regional[""]);this.dpDiv=c('<div id="'+this._mainDivId+'" style="display: none;"></div>')}function b(a,d){c.extend(a,d);for(var b in d)if(null==d[b]||void 0==d[b])a[b]=d[b];return a}c.extend(e.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},setDefaults:function(a){b(this._defaults,a||{});return this},_attachDatepicker:function(a,d){var b=null;for(attrName in this._defaults){var e=a.getAttribute("date:"+attrName);if(e){b= b||{};try{b[attrName]=eval(e)}catch(h){b[attrName]=e}}}var e=a.nodeName.toLowerCase(),g="div"==e||"span"==e;a.id||(a.id="dp"+(new Date).getTime());var j=this._newInst(c(a),g);j.settings=c.extend({},d||{},b||{});"input"==e?this._connectDatepicker(a,j):g&&this._inlineDatepicker(a,j)},_newInst:function(a,d){return{id:a[0].id,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:!d?this.dpDiv:c('<div class="ui-datepicker-inline"></div>')}},_connectDatepicker:function(a, d){var b=c(a);if(!b.hasClass(this.markerClassName)){var e=this._get(d,"appendText"),h=this._get(d,"isRTL");if(e)b[h?"before":"after"]('<span class="'+this._appendClass+'">'+e+"</span>");e=this._get(d,"showOn");("focus"==e||"both"==e)&&b.focus(this._showDatepicker);if("button"==e||"both"==e){var e=this._get(d,"buttonText"),g=this._get(d,"buttonImage"),e=c(this._get(d,"buttonImageOnly")?c("<img/>").addClass(this._triggerClass).attr({src:g,alt:e,title:e}):c('<button type="button"></button>').addClass(this._triggerClass).html(""== g?e:c("<img/>").attr({src:g,alt:e,title:e})));b[h?"before":"after"](e);e.click(function(){c.datepicker._datepickerShowing&&c.datepicker._lastInput==a?c.datepicker._hideDatepicker():c.datepicker._showDatepicker(a);return!1})}b.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).bind("setData.datepicker",function(a,b,c){d.settings[b]=c}).bind("getData.datepicker",function(a,b){return this._get(d,b)});c.data(a,"datepicker",d)}},_inlineDatepicker:function(a,d){var b=c(a); b.hasClass(this.markerClassName)||(b.addClass(this.markerClassName).append(d.dpDiv).bind("setData.datepicker",function(a,b,c){d.settings[b]=c}).bind("getData.datepicker",function(a,b){return this._get(d,b)}),c.data(a,"datepicker",d),this._setDate(d,this._getDefaultDate(d)),this._updateDatepicker(d))},_inlineShow:function(a){var d=this._getNumberOfMonths(a);a.dpDiv.width(d[1]*c(".ui-datepicker",a.dpDiv[0]).width())},_dialogDatepicker:function(a,d,e,i,h){a=this._dialogInst;a||(a="dp"+(new Date).getTime(), this._dialogInput=c('<input type="text" id="'+a+'" size="1" style="position: absolute; top: -100px;"/>'),this._dialogInput.keydown(this._doKeyDown),c("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},c.data(this._dialogInput[0],"datepicker",a));b(a.settings,i||{});this._dialogInput.val(d);this._pos=h?h.length?h:[h.pageX,h.pageY]:null;this._pos||(this._pos=[(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)/2-100+ (document.documentElement.scrollLeft||document.body.scrollLeft),(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]);this._dialogInput.css("left",this._pos[0]+"px").css("top",this._pos[1]+"px");a.settings.onSelect=e;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);c.blockUI&&c.blockUI(this.dpDiv);c.data(this._dialogInput[0],"datepicker",a);return this}, _destroyDatepicker:function(a){var d=a.nodeName.toLowerCase(),b=c(a);c.removeData(a,"datepicker");"input"==d?b.siblings("."+this._appendClass).remove().end().siblings("."+this._triggerClass).remove().end().removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress):("div"==d||"span"==d)&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){a.disabled=!1;c(a).siblings("button."+this._triggerClass).each(function(){this.disabled= !1}).end().siblings("img."+this._triggerClass).css({opacity:"1.0",cursor:""});this._disabledInputs=c.map(this._disabledInputs,function(d){return d==a?null:d})},_disableDatepicker:function(a){a.disabled=!0;c(a).siblings("button."+this._triggerClass).each(function(){this.disabled=!0}).end().siblings("img."+this._triggerClass).css({opacity:"0.5",cursor:"default"});this._disabledInputs=c.map(this._disabledInputs,function(d){return d==a?null:d});this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1; for(var d=0;d<this._disabledInputs.length;d++)if(this._disabledInputs[d]==a)return!0;return!1},_changeDatepicker:function(a,d,e){var i=d||{};"string"==typeof d&&(i={},i[d]=e);if(inst=c.data(a,"datepicker"))b(inst.settings,i),this._updateDatepicker(inst)},_setDateDatepicker:function(a,d,b){if(a=c.data(a,"datepicker"))this._setDate(a,d,b),this._updateDatepicker(a)},_getDateDatepicker:function(a){(a=c.data(a,"datepicker"))&&this._setDateFromField(a);return a?this._getDate(a):null},_doKeyDown:function(a){var d= c.data(a.target,"datepicker"),b=!0;if(c.datepicker._datepickerShowing)switch(a.keyCode){case 9:c.datepicker._hideDatepicker(null,"");break;case 13:return c.datepicker._selectDay(a.target,d.selectedMonth,d.selectedYear,c("td.ui-datepicker-days-cell-over",d.dpDiv)[0]),!1;case 27:c.datepicker._hideDatepicker(null,c.datepicker._get(d,"duration"));break;case 33:c.datepicker._adjustDate(a.target,a.ctrlKey?-1:-c.datepicker._get(d,"stepMonths"),a.ctrlKey?"Y":"M");break;case 34:c.datepicker._adjustDate(a.target, a.ctrlKey?1:+c.datepicker._get(d,"stepMonths"),a.ctrlKey?"Y":"M");break;case 35:a.ctrlKey&&c.datepicker._clearDate(a.target);break;case 36:a.ctrlKey&&c.datepicker._gotoToday(a.target);break;case 37:a.ctrlKey&&c.datepicker._adjustDate(a.target,-1,"D");break;case 38:a.ctrlKey&&c.datepicker._adjustDate(a.target,-7,"D");break;case 39:a.ctrlKey&&c.datepicker._adjustDate(a.target,1,"D");break;case 40:a.ctrlKey&&c.datepicker._adjustDate(a.target,7,"D");break;default:b=!1}else 36==a.keyCode&&a.ctrlKey?c.datepicker._showDatepicker(this): b=!1;b&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var d=c.data(a.target,"datepicker"),d=c.datepicker._possibleChars(c.datepicker._get(d,"dateFormat")),b=String.fromCharCode(void 0==a.charCode?a.keyCode:a.charCode);return a.ctrlKey||" ">b||!d||-1<d.indexOf(b)},_showDatepicker:function(a){a=a.target||a;"input"!=a.nodeName.toLowerCase()&&(a=c("input",a.parentNode)[0]);if(!(c.datepicker._isDisabledDatepicker(a)||c.datepicker._lastInput==a)){var d=c.data(a,"datepicker"),e=c.datepicker._get(d, "beforeShow");b(d.settings,e?e.apply(a,[a,d]):{});c.datepicker._hideDatepicker(null,"");c.datepicker._lastInput=a;c.datepicker._setDateFromField(d);c.datepicker._inDialog&&(a.value="");c.datepicker._pos||(c.datepicker._pos=c.datepicker._findPos(a),c.datepicker._pos[1]+=a.offsetHeight);var i=!1;c(a).parents().each(function(){i=i|c(this).css("position")=="fixed";return!i});i&&c.browser.opera&&(c.datepicker._pos[0]-=document.documentElement.scrollLeft,c.datepicker._pos[1]-=document.documentElement.scrollTop); a={left:c.datepicker._pos[0],top:c.datepicker._pos[1]};c.datepicker._pos=null;d.rangeStart=null;d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});c.datepicker._updateDatepicker(d);d.dpDiv.width(c.datepicker._getNumberOfMonths(d)[1]*c(".ui-datepicker",d.dpDiv[0])[0].offsetWidth);a=c.datepicker._checkOffset(d,a,i);d.dpDiv.css({position:c.datepicker._inDialog&&c.blockUI?"static":i?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"});if(!d.inline){var a=c.datepicker._get(d, "showAnim")||"show",e=c.datepicker._get(d,"duration"),h=function(){c.datepicker._datepickerShowing=true;c.browser.msie&&parseInt(c.browser.version)<7&&c("iframe.ui-datepicker-cover").css({width:d.dpDiv.width()+4,height:d.dpDiv.height()+4})};if(c.effects&&c.effects[a])d.dpDiv.show(a,c.datepicker._get(d,"showOptions"),e,h);else d.dpDiv[a](e,h);""==e&&h();"hidden"!=d.input[0].type&&d.input[0].focus();c.datepicker._curInst=d}}},_updateDatepicker:function(a){var d=a.dpDiv.width()+4,b=a.dpDiv.height()+ 4;a.dpDiv.empty().append(this._generateDatepicker(a)).find("iframe.ui-datepicker-cover").css({width:d,height:b});d=this._getNumberOfMonths(a);a.dpDiv[(1!=d[0]||1!=d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a.input&&"hidden"!=a.input[0].type&&c(a.input[0]).focus()},_checkOffset:function(a,d,b){var e=a.input?this._findPos(a.input[0]):null,h=window.innerWidth||document.documentElement.clientWidth,g=window.innerHeight|| document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;d.left=this._get(a,"isRTL")||d.left+a.dpDiv.width()-j>h?Math.max(b?0:j,e[0]+(a.input?a.input.width():0)-(b?j:0)-a.dpDiv.width()-(b&&c.browser.opera?document.documentElement.scrollLeft:0)):d.left-(b?j:0);d.top=d.top+a.dpDiv.height()-k>g?Math.max(b?0:k,e[1]-(b?k:0)-(this._inDialog?0:a.dpDiv.height())-(b&&c.browser.opera?document.documentElement.scrollTop: 0)):d.top-(b?k:0);return d},_findPos:function(a){for(;a&&("hidden"==a.type||1!=a.nodeType);)a=a.nextSibling;a=c(a).offset();return[a.left,a.top]},_hideDatepicker:function(a,d){var b=this._curInst;if(b){this._get(b,"rangeSelect")&&this._stayOpen&&this._selectDate("#"+b.id,this._formatDate(b,b.currentDay,b.currentMonth,b.currentYear));this._stayOpen=!1;if(this._datepickerShowing){var d=null!=d?d:this._get(b,"duration"),e=this._get(b,"showAnim"),h=function(){c.datepicker._tidyDialog(b)};if(""!=d&&c.effects&& c.effects[e])b.dpDiv.hide(e,c.datepicker._get(b,"showOptions"),d,h);else b.dpDiv[""==d?"hide":"slideDown"==e?"slideUp":"fadeIn"==e?"fadeOut":"hide"](d,h);""==d&&this._tidyDialog(b);(e=this._get(b,"onClose"))&&e.apply(b.input?b.input[0]:null,[this._getDate(b),b]);this._datepickerShowing=!1;this._lastInput=null;b.settings.prompt=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),c.blockUI&&(c.unblockUI(),c("body").append(this.dpDiv)));this._inDialog=!1}this._curInst= null}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker");c("."+this._promptClass,a.dpDiv).remove()},_checkExternalClick:function(a){c.datepicker._curInst&&(a=c(a.target),0==a.parents("#"+c.datepicker._mainDivId).length&&(!a.hasClass(c.datepicker.markerClassName)&&!a.hasClass(c.datepicker._triggerClass)&&c.datepicker._datepickerShowing&&(!c.datepicker._inDialog||!c.blockUI))&&c.datepicker._hideDatepicker(null,""))},_adjustDate:function(a,b,e){a=c(a);a=c.data(a[0], "datepicker");this._adjustInstDate(a,b,e);this._updateDatepicker(a)},_gotoToday:function(a){var a=c(a),b=c.data(a[0],"datepicker");if(this._get(b,"gotoCurrent")&&b.currentDay)b.selectedDay=b.currentDay,b.drawMonth=b.selectedMonth=b.currentMonth,b.drawYear=b.selectedYear=b.currentYear;else{var e=new Date;b.selectedDay=e.getDate();b.drawMonth=b.selectedMonth=e.getMonth();b.drawYear=b.selectedYear=e.getFullYear()}this._adjustDate(a);this._notifyChange(b)},_selectMonthYear:function(a,b,e){var a=c(a), i=c.data(a[0],"datepicker");i._selectingMonthYear=!1;i["M"==e?"drawMonth":"drawYear"]=b.options[b.selectedIndex].value-0;this._adjustDate(a);this._notifyChange(i)},_clickMonthYear:function(a){a=c(a);a=c.data(a[0],"datepicker");a.input&&(a._selectingMonthYear&&!c.browser.msie)&&a.input[0].focus();a._selectingMonthYear=!a._selectingMonthYear},_changeFirstDay:function(a,b){var e=c(a),e=c.data(e[0],"datepicker");e.settings.firstDay=b;this._updateDatepicker(e)},_selectDay:function(a,b,e,i){if(!c(i).hasClass(this._unselectableClass)){var h= c(a),h=c.data(h[0],"datepicker"),g=this._get(h,"rangeSelect");if(g&&(this._stayOpen=!this._stayOpen))c(".ui-datepicker td").removeClass(this._currentClass),c(i).addClass(this._currentClass);h.selectedDay=h.currentDay=c("a",i).html();h.selectedMonth=h.currentMonth=b;h.selectedYear=h.currentYear=e;this._stayOpen?h.endDay=h.endMonth=h.endYear=null:g&&(h.endDay=h.currentDay,h.endMonth=h.currentMonth,h.endYear=h.currentYear);this._selectDate(a,this._formatDate(h,h.currentDay,h.currentMonth,h.currentYear)); this._stayOpen?(h.rangeStart=new Date(h.currentYear,h.currentMonth,h.currentDay),this._updateDatepicker(h)):g&&(h.selectedDay=h.currentDay=h.rangeStart.getDate(),h.selectedMonth=h.currentMonth=h.rangeStart.getMonth(),h.selectedYear=h.currentYear=h.rangeStart.getFullYear(),h.rangeStart=null,h.inline&&this._updateDatepicker(h))}},_clearDate:function(a){var a=c(a),b=c.data(a[0],"datepicker");this._get(b,"mandatory")||(this._stayOpen=!1,b.endDay=b.endMonth=b.endYear=b.rangeStart=null,this._selectDate(a, ""))},_selectDate:function(a,b){var e=c(a),e=c.data(e[0],"datepicker"),b=null!=b?b:this._formatDate(e);this._get(e,"rangeSelect")&&b&&(b=(e.rangeStart?this._formatDate(e,e.rangeStart):b)+this._get(e,"rangeSeparator")+b);e.input&&e.input.val(b);this._updateAlternate(e);var i=this._get(e,"onSelect");i?i.apply(e.input?e.input[0]:null,[b,e]):e.input&&e.input.trigger("change");e.inline?this._updateDatepicker(e):this._stayOpen||(this._hideDatepicker(null,this._get(e,"duration")),this._lastInput=e.input[0], "object"!=typeof e.input[0]&&e.input[0].focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var e=this._get(a,"altFormat"),i=this._getDate(a);dateStr=i&&(c.browser.safari&&"object"==typeof i&&i.length||i.constructor&&i.constructor.toString().match(/\Array\(\)/))?!i[0]&&!i[1]?"":this.formatDate(e,i[0],this._getFormatConfig(a))+this._get(a,"rangeSeparator")+this.formatDate(e,i[1]||i[0],this._getFormatConfig(a)):this.formatDate(e,i,this._getFormatConfig(a)); c(b).each(function(){c(this).val(dateStr)})}},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getTimezoneOffset()/-60),b=new Date(a.getFullYear(),0,4),e=b.getDay()||7;b.setDate(b.getDate()+1-e);return 4>e&&a<b?(a.setDate(a.getDate()-3),c.datepicker.iso8601Week(a)):a>new Date(a.getFullYear(),11,28)&&(e=(new Date(a.getFullYear()+1,0,4)).getDay()||7,4<e&&(a.getDay()||7)<e-3)?(a.setDate(a.getDate()+3),c.datepicker.iso8601Week(a)): Math.floor((a-b)/864E5/7)+1},dateStatus:function(a,b){return c.datepicker.formatDate(c.datepicker._get(b,"dateStatus"),a,c.datepicker._getFormatConfig(b))},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";b="object"==typeof b?b.toString():b+"";if(""==b)return null;for(var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,h=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,g=(c?c.dayNames:null)||this._defaults.dayNames,j=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort, c=(c?c.monthNames:null)||this._defaults.monthNames,k=-1,l=-1,o=-1,m=!1,n=function(b){(b=s+1<a.length&&a.charAt(s+1)==b)&&s++;return b},t=function(a){n(a);for(var c=a="@"==a?14:"y"==a?4:2,e=0;0<c&&p<b.length&&"0"<=b.charAt(p)&&"9">=b.charAt(p);)e=10*e+(b.charAt(p++)-0),c--;if(c==a)throw"Missing number at position "+p;return e},q=function(a,c,e){a=n(a)?e:c;for(e=c=0;e<a.length;e++)c=Math.max(c,a[e].length);for(var e="",f=p;0<c&&p<b.length;){for(var e=e+b.charAt(p++),i=0;i<a.length;i++)if(e==a[i])return i+ 1;c--}throw"Unknown name at position "+f;},u=function(){if(b.charAt(p)!=a.charAt(s))throw"Unexpected literal at position "+p;p++},p=0,s=0;s<a.length;s++)if(m)"'"==a.charAt(s)&&!n("'")?m=!1:u();else switch(a.charAt(s)){case "d":o=t("d");break;case "D":q("D",h,g);break;case "m":l=t("m");break;case "M":l=q("M",j,c);break;case "y":k=t("y");break;case "@":var r=new Date(t("@")),k=r.getFullYear(),l=r.getMonth()+1,o=r.getDate();break;case "'":n("'")?u():m=!0;break;default:u()}100>k&&(k+=(new Date).getFullYear()- (new Date).getFullYear()%100+(k<=e?0:-100));r=new Date(k,l-1,o);if(r.getFullYear()!=k||r.getMonth()+1!=l||r.getDate()!=o)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TIMESTAMP:"@",W3C:"yy-mm-dd",formatDate:function(a,b,c){if(!b)return"";var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames, g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,c=(c?c.monthNames:null)||this._defaults.monthNames,j=function(b){(b=m+1<a.length&&a.charAt(m+1)==b)&&m++;return b},k=function(a,b){return(j(a)&&10>b?"0":"")+b},l="",o=!1;if(b)for(var m=0;m<a.length;m++)if(o)"'"==a.charAt(m)&&!j("'")?o=!1:l+=a.charAt(m);else switch(a.charAt(m)){case "d":l+=k("d",b.getDate());break;case "D":var n;n=b.getDay();var t=e,q=h;n=j("D")?q[n]:t[n];l+=n;break;case "m":l+=k("m",b.getMonth()+1);break;case "M":n=b.getMonth(); t=g;q=c;n=j("M")?q[n]:t[n];l+=n;break;case "y":l+=j("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":l+=b.getTime();break;case "'":j("'")?l+="'":o=!0;break;default:l+=a.charAt(m)}return l},_possibleChars:function(a){for(var b="",c=!1,e=0;e<a.length;e++)if(c)"'"==a.charAt(e)&&!lookAhead("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case "d":case "m":case "y":case "@":b+="0123456789";break;case "D":case "M":return null;case "'":lookAhead("'")?b+="'":c=!0;break;default:b+= a.charAt(e)}return b},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a){var b=this._get(a,"dateFormat"),c=a.input?a.input.val().split(this._get(a,"rangeSeparator")):null;a.endDay=a.endMonth=a.endYear=null;var e=defaultDate=this._getDefaultDate(a);if(0<c.length){var h=this._getFormatConfig(a);1<c.length&&(e=this.parseDate(b,c[1],h)||defaultDate,a.endDay=e.getDate(),a.endMonth=e.getMonth(),a.endYear=e.getFullYear());try{e=this.parseDate(b, c[0],h)||defaultDate}catch(g){this.log(g),e=defaultDate}}a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();a.currentDay=c[0]?e.getDate():0;a.currentMonth=c[0]?e.getMonth():0;a.currentYear=c[0]?e.getFullYear():0;this._adjustInstDate(a)},_getDefaultDate:function(a){var b=this._determineDate(this._get(a,"defaultDate"),new Date),c=this._getMinMaxDate(a,"min",!0),a=this._getMinMaxDate(a,"max"),b=c&&b<c?c:b;return a&&b>a?a:b},_determineDate:function(a, b){var c;if(null==a)c=b;else if("string"==typeof a){c=this._getDaysInMonth;for(var e=new Date,h=e.getFullYear(),g=e.getMonth(),e=e.getDate(),j=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=j.exec(a);k;){switch(k[2]||"d"){case "d":case "D":e+=k[1]-0;break;case "w":case "W":e+=7*k[1];break;case "m":case "M":g+=k[1]-0;e=Math.min(e,c(h,g));break;case "y":case "Y":h+=k[1]-0,e=Math.min(e,c(h,g))}k=j.exec(a)}c=new Date(h,g,e)}else"number"==typeof a?(c=new Date,c.setUTCDate(c.getUTCDate()+a)):c=a;return c},_setDate:function(a, b,c){var e=!b,b=this._determineDate(b,new Date);a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();this._get(a,"rangeSelect")&&(c?(c=this._determineDate(c,null),a.endDay=c.getDate(),a.endMonth=c.getMonth(),a.endYear=c.getFullYear()):(a.endDay=a.currentDay,a.endMonth=a.currentMonth,a.endYear=a.currentYear));this._adjustInstDate(a);a.input&&a.input.val(e?"":this._formatDate(a)+(!this._get(a,"rangeSelect")? "":this._get(a,"rangeSeparator")+this._formatDate(a,a.endDay,a.endMonth,a.endYear)))},_getDate:function(a){var b=!a.currentYear||a.input&&""==a.input.val()?null:new Date(a.currentYear,a.currentMonth,a.currentDay);return this._get(a,"rangeSelect")?[a.rangeStart||b,!a.endYear?null:new Date(a.endYear,a.endMonth,a.endDay)]:b},_generateDatepicker:function(a){var b=new Date,b=new Date(b.getFullYear(),b.getMonth(),b.getDate()),e=this._get(a,"showStatus"),i=this._get(a,"isRTL"),h=this._get(a,"mandatory")? "":'<div class="ui-datepicker-clear"><a onclick="jQuery.datepicker._clearDate(\'#'+a.id+"');\""+(e?this._addStatus(a,this._get(a,"clearStatus")||"&#xa0;"):"")+">"+this._get(a,"clearText")+"</a></div>",h='<div class="ui-datepicker-control">'+(i?"":h)+'<div class="ui-datepicker-close"><a onclick="jQuery.datepicker._hideDatepicker();"'+(e?this._addStatus(a,this._get(a,"closeStatus")||"&#xa0;"):"")+">"+this._get(a,"closeText")+"</a></div>"+(i?h:"")+"</div>",g=this._get(a,"prompt"),j=this._get(a,"closeAtTop"), k=this._get(a,"hideIfNoPrevNext"),l=this._get(a,"navigationAsDateFormat"),o=this._getNumberOfMonths(a),m=this._get(a,"stepMonths"),n=1!=o[0]||1!=o[1],t=!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay),q=this._getMinMaxDate(a,"min",!0),u=this._getMinMaxDate(a,"max"),p=a.drawMonth,s=a.drawYear;if(u)for(var r=new Date(u.getFullYear(),u.getMonth()-o[1]+1,u.getDate()),r=q&&r<q?q:r;new Date(s,p,1)>r;)p--,0>p&&(p=11,s--);for(var r=this._get(a,"prevText"),r=!l?r:this.formatDate(r, new Date(s,p-m,1),this._getFormatConfig(a)),r='<div class="ui-datepicker-prev">'+(this._canAdjustMonth(a,-1,s,p)?"<a onclick=\"jQuery.datepicker._adjustDate('#"+a.id+"', -"+m+", 'M');\""+(e?this._addStatus(a,this._get(a,"prevStatus")||"&#xa0;"):"")+">"+r+"</a>":k?"":"<label>"+r+"</label>")+"</div>",x=this._get(a,"nextText"),x=!l?x:this.formatDate(x,new Date(s,p+m,1),this._getFormatConfig(a)),k='<div class="ui-datepicker-next">'+(this._canAdjustMonth(a,1,s,p)?"<a onclick=\"jQuery.datepicker._adjustDate('#"+ a.id+"', +"+m+", 'M');\""+(e?this._addStatus(a,this._get(a,"nextStatus")||"&#xa0;"):"")+">"+x+"</a>":k?"":"<label>"+x+"</label>")+"</div>",m=this._get(a,"currentText"),m=!l?m:this.formatDate(m,b,this._getFormatConfig(a)),i=(g?'<div class="'+this._promptClass+'">'+g+"</div>":"")+(j&&!a.inline?h:"")+'<div class="ui-datepicker-links">'+(i?k:r)+(this._isInRange(a,this._get(a,"gotoCurrent")&&a.currentDay?t:b)?'<div class="ui-datepicker-current"><a onclick="jQuery.datepicker._gotoToday(\'#'+a.id+"');\""+ (e?this._addStatus(a,this._get(a,"currentStatus")||"&#xa0;"):"")+">"+m+"</a></div>":"")+(i?r:k)+"</div>",g=this._get(a,"firstDay"),l=this._get(a,"changeFirstDay"),k=this._get(a,"dayNames"),m=this._get(a,"dayNamesShort"),r=this._get(a,"dayNamesMin"),x=this._get(a,"monthNames"),H=this._get(a,"beforeShowDay"),D=this._get(a,"highlightWeek"),A=this._get(a,"showOtherMonths"),I=this._get(a,"showWeeks"),L=this._get(a,"calculateWeek")||this.iso8601Week,E=e?this._get(a,"dayStatus")||"&#xa0;":"",M=this._get(a, "statusForDate")||this.dateStatus,N=a.endDay?new Date(a.endYear,a.endMonth,a.endDay):t,F=0;F<o[0];F++)for(var B=0;B<o[1];B++){for(var J=new Date(s,p,a.selectedDay),i=i+('<div class="ui-datepicker-one-month'+(0==B?" ui-datepicker-new-row":"")+'">'+this._generateMonthYearHeader(a,p,s,q,u,J,0<F||0<B,e,x)+'<table class="ui-datepicker" cellpadding="0" cellspacing="0"><thead><tr class="ui-datepicker-title-row">'+(I?"<td>"+this._get(a,"weekHeader")+"</td>":"")),w=0;7>w;w++)var v=(w+g)%7,z=-1<E.indexOf("DD")? E.replace(/DD/,k[v]):E.replace(/D/,m[v]),i=i+("<td"+(5<=(w+g+6)%7?' class="ui-datepicker-week-end-cell"':"")+">"+(!l?"<span":"<a onclick=\"jQuery.datepicker._changeFirstDay('#"+a.id+"', "+v+');"')+(e?this._addStatus(a,z):"")+' title="'+k[v]+'">'+r[v]+(l?"</a>":"</span>")+"</td>");i+="</tr></thead><tbody>";w=this._getDaysInMonth(s,p);s==a.selectedYear&&p==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,w));for(var z=(this._getFirstDayOfMonth(s,p)-g+7)%7,v=new Date(s,p,1-z),z=n?6:Math.ceil((z+ w)/7),K=0;K<z;K++){i+='<tr class="ui-datepicker-days-row">'+(I?'<td class="ui-datepicker-week-col">'+L(v)+"</td>":"");for(w=0;7>w;w++){var C=H?H.apply(a.input?a.input[0]:null,[v]):[!0,""],y=v.getMonth()!=p,G=y||!C[0]||q&&v<q||u&&v>u,i=i+('<td class="ui-datepicker-days-cell'+(5<=(w+g+6)%7?" ui-datepicker-week-end-cell":"")+(y?" ui-datepicker-otherMonth":"")+(v.getTime()==J.getTime()&&p==a.selectedMonth?" ui-datepicker-days-cell-over":"")+(G?" "+this._unselectableClass:"")+(y&&!A?"":" "+C[1]+(v.getTime()>= t.getTime()&&v.getTime()<=N.getTime()?" "+this._currentClass:"")+(v.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!y||A)&&C[2]?' title="'+C[2]+'"':"")+(G?D?" onmouseover=\"jQuery(this).parent().addClass('ui-datepicker-week-over');\" onmouseout=\"jQuery(this).parent().removeClass('ui-datepicker-week-over');\"":"":" onmouseover=\"jQuery(this).addClass('ui-datepicker-days-cell-over')"+(D?".parent().addClass('ui-datepicker-week-over')":"")+";"+(!e||y&&!A?"":"jQuery('#ui-datepicker-status-"+ a.id+"').html('"+(M.apply(a.input?a.input[0]:null,[v,a])||"&#xa0;")+"');")+"\" onmouseout=\"jQuery(this).removeClass('ui-datepicker-days-cell-over')"+(D?".parent().removeClass('ui-datepicker-week-over')":"")+";"+(!e||y&&!A?"":"jQuery('#ui-datepicker-status-"+a.id+"').html('&#xa0;');")+'" onclick="jQuery.datepicker._selectDay(\'#'+a.id+"',"+p+","+s+', this);"')+">"+(y?A?v.getDate():"&#xa0;":G?v.getDate():"<a>"+v.getDate()+"</a>")+"</td>");v.setUTCDate(v.getUTCDate()+1)}i+="</tr>"}p++;11<p&&(p=0,s++); i+="</tbody></table></div>"}return i+=(e?'<div style="clear: both;"></div><div id="ui-datepicker-status-'+a.id+'" class="ui-datepicker-status">'+(this._get(a,"initStatus")||"&#xa0;")+"</div>":"")+(!j&&!a.inline?h:"")+'<div style="clear: both;"></div>'+(c.browser.msie&&7>parseInt(c.browser.version)&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover"></iframe>':"")},_generateMonthYearHeader:function(a,b,c,e,h,g,j,k,l){e=a.rangeStart&&e&&g<e?g:e;g='<div class="ui-datepicker-header">'; if(j||!this._get(a,"changeMonth"))g+=l[b]+"&#xa0;";else{for(var o=e&&e.getFullYear()==c,m=h&&h.getFullYear()==c,g=g+('<select class="ui-datepicker-new-month" onchange="jQuery.datepicker._selectMonthYear(\'#'+a.id+"', this, 'M');\" onclick=\"jQuery.datepicker._clickMonthYear('#"+a.id+"');\""+(k?this._addStatus(a,this._get(a,"monthStatus")||"&#xa0;"):"")+">"),n=0;12>n;n++)if((!o||n>=e.getMonth())&&(!m||n<=h.getMonth()))g+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+l[n]+"</option>"; g+="</select>"}if(j||!this._get(a,"changeYear"))g+=c;else{b=this._get(a,"yearRange").split(":");l=j=0;2!=b.length?(j=c-10,l=c+10):"+"==b[0].charAt(0)||"-"==b[0].charAt(0)?(j=l=(new Date).getFullYear(),j+=parseInt(b[0],10),l+=parseInt(b[1],10)):(j=parseInt(b[0],10),l=parseInt(b[1],10));j=e?Math.max(j,e.getFullYear()):j;l=h?Math.min(l,h.getFullYear()):l;for(g+='<select class="ui-datepicker-new-year" onchange="jQuery.datepicker._selectMonthYear(\'#'+a.id+"', this, 'Y');\" onclick=\"jQuery.datepicker._clickMonthYear('#"+ a.id+"');\""+(k?this._addStatus(a,this._get(a,"yearStatus")||"&#xa0;"):"")+">";j<=l;j++)g+='<option value="'+j+'"'+(j==c?' selected="selected"':"")+">"+j+"</option>";g+="</select>"}return g+"</div>"},_addStatus:function(a,b){return" onmouseover=\"jQuery('#ui-datepicker-status-"+a.id+"').html('"+b+"');\" onmouseout=\"jQuery('#ui-datepicker-status-"+a.id+"').html('&#xa0;');\""},_adjustInstDate:function(a,b,c){var e=a.drawYear+("Y"==c?b:0),h=a.drawMonth+("M"==c?b:0),b=Math.min(a.selectedDay,this._getDaysInMonth(e, h))+("D"==c?b:0),e=new Date(e,h,b),h=this._getMinMaxDate(a,"min",!0),b=this._getMinMaxDate(a,"max"),e=h&&e<h?h:e,e=b&&e>b?b:e;a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();("M"==c||"Y"==c)&&this._notifyChange(a)},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[new Date(a.selectedYear,a.selectedMonth,1),a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null== a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b,c){if(b=this._determineDate(this._get(a,b+"Date"),null))b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return!c||!a.rangeStart?b:!b||a.rangeStart>b?a.rangeStart:b},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var h=this._getNumberOfMonths(a),c=new Date(c,e+(0>b?b:h[1]),1);0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(), c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=!a.rangeStart?null:new Date(a.selectedYear,a.selectedMonth,a.selectedDay),c=(c=c&&a.rangeStart<c?a.rangeStart:c)||this._getMinMaxDate(a,"min"),e=this._getMinMaxDate(a,"max");return(!c||b>=c)&&(!e||b<=e)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a, "dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:new Date(e,c,b):new Date(a.currentYear,a.currentMonth,a.currentDay);return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});c.fn.datepicker=function(a){var b=Array.prototype.slice.call(arguments,1);return"string"==typeof a&&("isDisabled"== a||"getDate"==a)?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this[0]].concat(b)):this.each(function(){"string"==typeof a?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this].concat(b)):c.datepicker._attachDatepicker(this,a)})};c.datepicker=new e;c(document).ready(function(){c(document.body).append(c.datepicker.dpDiv).mousedown(c.datepicker._checkExternalClick)})})(jQuery); (function(c){var e={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"};c.widget("ui.dialog",{init:function(){var b=this,a=this.options,d="string"==typeof a.resizable?a.resizable:"n,e,s,w,se,sw,ne,nw",e=this.element.addClass("ui-dialog-content").wrap("<div/>").wrap("<div/>"), i=this.uiDialogContainer=e.parent().addClass("ui-dialog-container").css({position:"relative",width:"100%",height:"100%"}),h=a.title||e.attr("title")||"",h=(this.uiDialogTitlebar=c('<div class="ui-dialog-titlebar"/>')).append('<span class="ui-dialog-title">'+h+"</span>").append('<a href="#" class="ui-dialog-titlebar-close"><span>X</span></a>').prependTo(i),e=(this.uiDialog=i.parent()).appendTo(document.body).hide().addClass("ui-dialog").addClass(a.dialogClass).addClass(e.attr("className")).removeClass("ui-dialog-content").css({position:"absolute", width:a.width,height:a.height,overflow:"hidden",zIndex:a.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){a.closeOnEscape&&c.keyCode&&27==c.keyCode&&b.close()}).mousedown(function(){b.moveToTop()});(this.uiDialogButtonPane=c("<div/>")).addClass("ui-dialog-buttonpane").css({position:"absolute",bottom:0}).appendTo(e);this.uiDialogTitlebarClose=c(".ui-dialog-titlebar-close",h).hover(function(){c(this).addClass("ui-dialog-titlebar-close-hover")},function(){c(this).removeClass("ui-dialog-titlebar-close-hover")}).mousedown(function(a){a.stopPropagation()}).click(function(){b.close(); return!1});this.uiDialogTitlebar.find("*").add(this.uiDialogTitlebar).each(function(){c.ui.disableSelection(this)});c.fn.draggable&&(e.draggable({cancel:".ui-dialog-content",helper:a.dragHelper,handle:".ui-dialog-titlebar",start:function(c,d){b.moveToTop();a.dragStart&&a.dragStart.apply(b.element[0],arguments)},drag:function(c,d){a.drag&&a.drag.apply(b.element[0],arguments)},stop:function(d,e){a.dragStop&&a.dragStop.apply(b.element[0],arguments);c.ui.dialog.overlay.resize()}}),a.draggable||e.draggable("disable")); c.fn.resizable&&(e.resizable({cancel:".ui-dialog-content",helper:a.resizeHelper,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:a.minHeight,start:function(){a.resizeStart&&a.resizeStart.apply(b.element[0],arguments)},resize:function(c,d){a.autoResize&&b.size.apply(b);a.resize&&a.resize.apply(b.element[0],arguments)},handles:d,stop:function(d,e){a.autoResize&&b.size.apply(b);a.resizeStop&&a.resizeStop.apply(b.element[0],arguments);c.ui.dialog.overlay.resize()}}),a.resizable|| e.resizable("disable"));this.createButtons(a.buttons);this.isOpen=!1;a.bgiframe&&c.fn.bgiframe&&e.bgiframe();a.autoOpen&&this.open()},setData:function(b,a){e[b]&&this.uiDialog.data(e[b],a);switch(b){case "buttons":this.createButtons(a);break;case "draggable":this.uiDialog.draggable(a?"enable":"disable");break;case "height":this.uiDialog.height(a);break;case "position":this.position(a);break;case "resizable":"string"==typeof a&&this.uiDialog.data("handles.resizable",a);this.uiDialog.resizable(a?"enable": "disable");break;case "title":c(".ui-dialog-title",this.uiDialogTitlebar).text(a);break;case "width":this.uiDialog.width(a)}c.widget.prototype.setData.apply(this,arguments)},position:function(b){var a=c(window),d=c(document),e=d.scrollTop(),d=d.scrollLeft(),i=e;0<=c.inArray(b,["center","top","right","bottom","left"])&&(b=["right"==b||"left"==b?b:"center","top"==b||"bottom"==b?b:"middle"]);b.constructor!=Array&&(b=["center","middle"]);if(b[0].constructor==Number)d+=b[0];else switch(b[0]){case "left":d+= 0;break;case "right":d+=a.width()-this.uiDialog.width();break;default:case "center":d+=(a.width()-this.uiDialog.width())/2}if(b[1].constructor==Number)e+=b[1];else switch(b[1]){case "top":e+=0;break;case "bottom":e+=a.height()-this.uiDialog.height();break;default:case "middle":e+=(a.height()-this.uiDialog.height())/2}e=Math.max(e,i);this.uiDialog.css({top:e,left:d})},size:function(){var b=this.uiDialogContainer,a=this.uiDialogTitlebar,c=this.element,e=parseInt(c.css("margin-top"),10)+parseInt(c.css("margin-bottom"), 10),i=parseInt(c.css("margin-left"),10)+parseInt(c.css("margin-right"),10);c.height(b.height()-a.outerHeight()-e);c.width(b.width()-i)},open:function(){if(!this.isOpen){this.overlay=this.options.modal?new c.ui.dialog.overlay(this):null;0<this.uiDialog.next().length&&this.uiDialog.appendTo("body");this.position(this.options.position);this.uiDialog.show(this.options.show);this.options.autoResize&&this.size();this.moveToTop(!0);var b={options:this.options};this.uiDialogTitlebarClose.focus();this.element.triggerHandler("dialogopen", [null,b],this.options.open);this.isOpen=!0}},moveToTop:function(b){if(this.options.modal&&!b||!this.options.stack&&!this.options.modal)return this.element.triggerHandler("dialogfocus",[null,{options:this.options}],this.options.focus);var a=this.options.zIndex,d=this.options;c(".ui-dialog:visible").each(function(){a=Math.max(a,parseInt(c(this).css("z-index"),10)||d.zIndex)});this.overlay&&this.overlay.$el.css("z-index",++a);this.uiDialog.css("z-index",++a);this.element.triggerHandler("dialogfocus", [null,{options:this.options}],this.options.focus)},close:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide(this.options.hide);this.element.triggerHandler("dialogclose",[null,{options:this.options}],this.options.close);c.ui.dialog.overlay.resize();this.isOpen=!1},destroy:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content").hide().appendTo("body");this.uiDialog.remove()},createButtons:function(b){var a= this,d=!1,e=this.uiDialogButtonPane;e.empty().hide();c.each(b,function(){return!(d=!0)});d&&(e.show(),c.each(b,function(b,d){c("<button/>").text(b).click(function(){d.apply(a.element[0],arguments)}).appendTo(e)}))}});c.extend(c.ui.dialog,{defaults:{autoOpen:!0,autoResize:!0,bgiframe:!1,buttons:{},closeOnEscape:!0,draggable:!0,height:200,minHeight:100,minWidth:150,modal:!1,overlay:{},position:"center",resizable:!0,stack:!0,width:300,zIndex:1E3},overlay:function(b){this.$el=c.ui.dialog.overlay.create(b)}}); c.extend(c.ui.dialog.overlay,{instances:[],events:c.map("focus mousedown mouseup keydown keypress click".split(" "),function(b){return b+".dialog-overlay"}).join(" "),create:function(b){0===this.instances.length&&(setTimeout(function(){c("a, :input").bind(c.ui.dialog.overlay.events,function(){var a=!1,b=c(this).parents(".ui-dialog");if(b.length)if(a=c(".ui-dialog-overlay"),a.length){var e=parseInt(a.css("z-index"),10);a.each(function(){e=Math.max(e,parseInt(c(this).css("z-index"),10))});a=parseInt(b.css("z-index"), 10)>e}else a=!0;return a})},1),c(document).bind("keydown.dialog-overlay",function(a){a.keyCode&&27==a.keyCode&&b.close()}),c(window).bind("resize.dialog-overlay",c.ui.dialog.overlay.resize));var a=c("<div/>").appendTo(document.body).addClass("ui-dialog-overlay").css(c.extend({borderWidth:0,margin:0,padding:0,position:"absolute",top:0,left:0,width:this.width(),height:this.height()},b.options.overlay));b.options.bgiframe&&c.fn.bgiframe&&a.bgiframe();this.instances.push(a);return a},destroy:function(b){this.instances.splice(c.inArray(this.instances, b),1);0===this.instances.length&&c("a, :input").add([document,window]).unbind(".dialog-overlay");b.remove()},height:function(){if(c.browser.msie&&7>c.browser.version){var b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),a=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<a?c(window).height()+"px":b+"px"}return c(document).height()+"px"},width:function(){if(c.browser.msie&&7>c.browser.version){var b=Math.max(document.documentElement.scrollWidth, document.body.scrollWidth),a=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<a?c(window).width()+"px":b+"px"}return c(document).width()+"px"},resize:function(){var b=c([]);c.each(c.ui.dialog.overlay.instances,function(){b=b.add(this)});b.css({width:0,height:0}).css({width:c.ui.dialog.overlay.width(),height:c.ui.dialog.overlay.height()})}});c.extend(c.ui.dialog.overlay.prototype,{destroy:function(){c.ui.dialog.overlay.destroy(this.$el)}})})(jQuery); (function(c){c.fn.unwrap=c.fn.unwrap||function(e){return this.each(function(){c(this).parents(e).eq(0).after(this).remove()})};c.widget("ui.slider",{plugins:{},ui:function(){return{options:this.options,handle:this.currentHandle,value:"both"!=this.options.axis||!this.options.axis?Math.round(this.value(null,"vertical"==this.options.axis?"y":"x")):{x:Math.round(this.value(null,"x")),y:Math.round(this.value(null,"y"))},range:this.getRange()}},propagate:function(e,b){c.ui.plugin.call(this,e,[b,this.ui()]); this.element.triggerHandler("slide"==e?e:"slide"+e,[b,this.ui()],this.options[e])},destroy:function(){this.element.removeClass("ui-slider ui-slider-disabled").removeData("slider").unbind(".slider");this.handle&&this.handle.length&&(this.handle.unwrap("a"),this.handle.each(function(){c(this).data("mouse").mouseDestroy()}));this.generated&&this.generated.remove()},setData:function(e,b){c.widget.prototype.setData.apply(this,arguments);/min|max|steps/.test(e)&&this.initBoundaries();"range"==e&&(b?2== this.handle.length&&this.createRange():this.removeRange())},init:function(){var e=this;this.element.addClass("ui-slider");this.initBoundaries();this.handle=c(this.options.handle,this.element);this.handle.length||(e.handle=e.generated=c(e.options.handles||[0]).map(function(){var a=c("<div/>").addClass("ui-slider-handle").appendTo(e.element);this.id&&a.attr("id",this.id);return a[0]}));var b=function(a){this.element=c(a);this.element.data("mouse",this);this.options=e.options;this.element.bind("mousedown", function(){e.currentHandle&&this.blur(e.currentHandle);e.focus(this,1)});this.mouseInit()};c.extend(b.prototype,c.ui.mouse,{mouseStart:function(a){return e.start.call(e,a,this.element[0])},mouseStop:function(a){return e.stop.call(e,a,this.element[0])},mouseDrag:function(a){return e.drag.call(e,a,this.element[0])},mouseCapture:function(){return true},trigger:function(a){this.mouseDown(a)}});c(this.handle).each(function(){new b(this)}).wrap('<a href="javascript:void(0)" style="outline:none;border:none;"></a>').parent().bind("focus", function(){e.focus(this.firstChild)}).bind("blur",function(){e.blur(this.firstChild)}).bind("keydown",function(a){e.options.noKeyboard||e.keydown(a.keyCode,this.firstChild)});this.element.bind("mousedown.slider",function(a){e.click.apply(e,[a]);e.currentHandle.data("mouse").trigger(a);e.firstValue=e.firstValue+1});c.each(this.options.handles||[],function(a,b){e.moveTo(b.start,a,true)});isNaN(this.options.startValue)||this.moveTo(this.options.startValue,0,!0);this.previousHandle=c(this.handle[0]); 2==this.handle.length&&this.options.range&&this.createRange()},initBoundaries:function(){var e=this.element[0],b=this.options;this.actualSize={width:this.element.outerWidth(),height:this.element.outerHeight()};c.extend(b,{axis:b.axis||(e.offsetWidth<e.offsetHeight?"vertical":"horizontal"),max:!isNaN(parseInt(b.max,10))?{x:parseInt(b.max,10),y:parseInt(b.max,10)}:{x:b.max&&b.max.x||100,y:b.max&&b.max.y||100},min:!isNaN(parseInt(b.min,10))?{x:parseInt(b.min,10),y:parseInt(b.min,10)}:{x:b.min&&b.min.x|| 0,y:b.min&&b.min.y||0}});b.realMax={x:b.max.x-b.min.x,y:b.max.y-b.min.y};b.stepping={x:b.stepping&&b.stepping.x||parseInt(b.stepping,10)||(b.steps?b.realMax.x/(b.steps.x||parseInt(b.steps,10)||b.realMax.x):0),y:b.stepping&&b.stepping.y||parseInt(b.stepping,10)||(b.steps?b.realMax.y/(b.steps.y||parseInt(b.steps,10)||b.realMax.y):0)}},keydown:function(c,b){/(37|38|39|40)/.test(c)&&this.moveTo({x:/(37|39)/.test(c)?(37==c?"-":"+")+"="+this.oneStep("x"):0,y:/(38|40)/.test(c)?(38==c?"-":"+")+"="+this.oneStep("y"): 0},b)},focus:function(e,b){this.currentHandle=c(e).addClass("ui-slider-handle-active");b&&this.currentHandle.parent()[0].focus()},blur:function(e){c(e).removeClass("ui-slider-handle-active");this.currentHandle&&this.currentHandle[0]==e&&(this.previousHandle=this.currentHandle,this.currentHandle=null)},click:function(c){var b=!1;this.handle.each(function(){this==c.target&&(b=!0)});if(!b&&!(this.options.disabled||!this.currentHandle&&!this.previousHandle))!this.currentHandle&&this.previousHandle&&this.focus(this.previousHandle, !0),this.offset=this.element.offset(),this.moveTo({y:this.convertValue(c.pageY-this.offset.top-this.currentHandle[0].offsetHeight/2,"y"),x:this.convertValue(c.pageX-this.offset.left-this.currentHandle[0].offsetWidth/2,"x")},null,!this.options.distance)},createRange:function(){this.rangeElement||(this.rangeElement=c("<div></div>").addClass("ui-slider-range").css({position:"absolute"}).appendTo(this.element),this.updateRange())},removeRange:function(){this.rangeElement.remove();this.rangeElement=null}, updateRange:function(){var e="vertical"==this.options.axis?"top":"left",b="vertical"==this.options.axis?"height":"width";this.rangeElement.css(e,(parseInt(c(this.handle[0]).css(e),10)||0)+this.handleSize(0,"vertical"==this.options.axis?"y":"x")/2);this.rangeElement.css(b,(parseInt(c(this.handle[1]).css(e),10)||0)-(parseInt(c(this.handle[0]).css(e),10)||0))},getRange:function(){return this.rangeElement?this.convertValue(parseInt(this.rangeElement.css("vertical"==this.options.axis?"height":"width"), 10),"vertical"==this.options.axis?"y":"x"):null},handleIndex:function(){return this.handle.index(this.currentHandle[0])},value:function(e,b){1==this.handle.length&&(this.currentHandle=this.handle);b||(b="vertical"==this.options.axis?"y":"x");var a=c(void 0!=e&&null!==e?this.handle[e]||e:this.currentHandle);return a.data("mouse").sliderValue?parseInt(a.data("mouse").sliderValue[b],10):parseInt(parseInt(a.css("x"==b?"left":"top"),10)/(this.actualSize["x"==b?"width":"height"]-this.handleSize(e,b))*this.options.realMax[b]+ this.options.min[b],10)},convertValue:function(c,b){return this.options.min[b]+c/(this.actualSize["x"==b?"width":"height"]-this.handleSize(null,b))*this.options.realMax[b]},translateValue:function(c,b){return(c-this.options.min[b])/this.options.realMax[b]*(this.actualSize["x"==b?"width":"height"]-this.handleSize(null,b))},translateRange:function(c,b){this.rangeElement&&(this.currentHandle[0]==this.handle[0]&&c>=this.translateValue(this.value(1),b)&&(c=this.translateValue(this.value(1,b)-this.oneStep(b), b)),this.currentHandle[0]==this.handle[1]&&c<=this.translateValue(this.value(0),b)&&(c=this.translateValue(this.value(0,b)+this.oneStep(b),b)));if(this.options.handles){var a=this.options.handles[this.handleIndex()];c<this.translateValue(a.min,b)?c=this.translateValue(a.min,b):c>this.translateValue(a.max,b)&&(c=this.translateValue(a.max,b))}return c},translateLimits:function(c,b){if(c>=this.actualSize["x"==b?"width":"height"]-this.handleSize(null,b))c=this.actualSize["x"==b?"width":"height"]-this.handleSize(null, b);0>=c&&(c=0);return c},handleSize:function(e,b){return c(void 0!=e&&null!==e?this.handle[e]:this.currentHandle)[0]["offset"+("x"==b?"Width":"Height")]},oneStep:function(c){return this.options.stepping[c]||1},start:function(c,b){if(this.options.disabled)return!1;this.actualSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.currentHandle||this.focus(this.previousHandle,!0);this.offset=this.element.offset();this.handleOffset=this.currentHandle.offset();this.clickOffset={top:c.pageY- this.handleOffset.top,left:c.pageX-this.handleOffset.left};this.firstValue=this.value();this.propagate("start",c);this.drag(c,b);return!0},stop:function(c){this.propagate("stop",c);this.firstValue!=this.value()&&this.propagate("change",c);this.focus(this.currentHandle,!0);return!1},drag:function(c){var b=this.options,a=c.pageY-this.offset.top-this.clickOffset.top,d=c.pageX-this.offset.left-this.clickOffset.left;this.currentHandle||this.focus(this.previousHandle,!0);d=this.translateLimits(d,"x");a= this.translateLimits(a,"y");if(b.stepping.x)var f=this.convertValue(d,"x"),f=Math.round(f/b.stepping.x)*b.stepping.x,d=this.translateValue(f,"x");b.stepping.y&&(f=this.convertValue(a,"y"),f=Math.round(f/b.stepping.y)*b.stepping.y,a=this.translateValue(f,"y"));d=this.translateRange(d,"x");a=this.translateRange(a,"y");"vertical"!=b.axis&&this.currentHandle.css({left:d});"horizontal"!=b.axis&&this.currentHandle.css({top:a});this.currentHandle.data("mouse").sliderValue={x:Math.round(this.convertValue(d, "x"))||0,y:Math.round(this.convertValue(a,"y"))||0};this.rangeElement&&this.updateRange();this.propagate("slide",c);return!1},moveTo:function(e,b,a){var d=this.options;this.actualSize={width:this.element.outerWidth(),height:this.element.outerHeight()};if(void 0==b&&!this.currentHandle&&1!=this.handle.length)return!1;void 0==b&&!this.currentHandle&&(b=0);void 0!=b&&(this.currentHandle=this.previousHandle=c(this.handle[b]||b));void 0!==e.x&&void 0!==e.y?(b=e.x,e=e.y):b=e;if(void 0!==b&&b.constructor!= Number)var f=/^\-\=/.test(b),i=/^\+\=/.test(b),b=f||i?this.value(null,"x")+parseInt(b.replace(f?"=":"+=",""),10):isNaN(parseInt(b,10))?void 0:parseInt(b,10);void 0!==e&&e.constructor!=Number&&(f=/^\-\=/.test(e),i=/^\+\=/.test(e),e=f||i?this.value(null,"y")+parseInt(e.replace(f?"=":"+=",""),10):isNaN(parseInt(e,10))?void 0:parseInt(e,10));"vertical"!=d.axis&&void 0!==b&&(d.stepping.x&&(b=Math.round(b/d.stepping.x)*d.stepping.x),b=this.translateValue(b,"x"),b=this.translateLimits(b,"x"),b=this.translateRange(b, "x"),d.animate?this.currentHandle.stop().animate({left:b},Math.abs(parseInt(this.currentHandle.css("left"))-b)*(!isNaN(parseInt(d.animate))?d.animate:5)):this.currentHandle.css({left:b}));"horizontal"!=d.axis&&void 0!==e&&(d.stepping.y&&(e=Math.round(e/d.stepping.y)*d.stepping.y),e=this.translateValue(e,"y"),e=this.translateLimits(e,"y"),e=this.translateRange(e,"y"),d.animate?this.currentHandle.stop().animate({top:e},Math.abs(parseInt(this.currentHandle.css("top"))-e)*(!isNaN(parseInt(d.animate))? d.animate:5)):this.currentHandle.css({top:e}));this.rangeElement&&this.updateRange();this.currentHandle.data("mouse").sliderValue={x:Math.round(this.convertValue(b,"x"))||0,y:Math.round(this.convertValue(e,"y"))||0};a||(this.propagate("start",null),this.propagate("stop",null),this.propagate("change",null),this.propagate("slide",null))}});c.ui.slider.getter="value";c.ui.slider.defaults={handle:".ui-slider-handle",distance:1,animate:!1}})(jQuery); (function(c){c.widget("ui.tabs",{init:function(){this.options.event+=".tabs";this.tabify(!0)},setData:function(c,b){/^selected/.test(c)?this.select(b):(this.options[c]=b,this.tabify())},length:function(){return this.$tabs.length},tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+c.data(e)},ui:function(c,b){return{options:this.options,tab:c,panel:b,index:this.$tabs.index(c)}},tabify:function(e){function b(b,d,e){d.animate(h,h.duration|| k,function(){d.addClass(f.hideClass).css(l);c.browser.msie&&h.opacity&&(d[0].style.filter="");e&&a(b,e,d)})}function a(a,b){g===j&&b.css("display","block");b.animate(g,g.duration||k,function(){b.removeClass(f.hideClass).css(l);c.browser.msie&&g.opacity&&(b[0].style.filter="");c(d.element).triggerHandler("tabsshow",[d.fakeEvent("tabsshow"),d.ui(a,b[0])],f.show)})}this.$lis=c("li:has(a[href])",this.element);this.$tabs=this.$lis.map(function(){return c("a",this)[0]});this.$panels=c([]);var d=this,f= this.options;this.$tabs.each(function(a,b){if(b.hash&&b.hash.replace("#",""))d.$panels=d.$panels.add(b.hash);else if("#"!=c(b).attr("href")){c.data(b,"href.tabs",b.href);c.data(b,"load.tabs",b.href);var e=d.tabId(b);b.href="#"+e;var g=c("#"+e);g.length||(g=c(f.panelTemplate).attr("id",e).addClass(f.panelClass).insertAfter(d.$panels[a-1]||d.element),g.data("destroy.tabs",!0));d.$panels=d.$panels.add(g)}else f.disabled.push(a+1)});if(e){this.element.addClass(f.navClass);this.$panels.each(function(){c(this).addClass(f.panelClass)}); if(void 0===f.selected)if(location.hash)this.$tabs.each(function(a,b){if(b.hash==location.hash){f.selected=a;if(c.browser.msie||c.browser.opera){var d=c(location.hash),e=d.attr("id");d.attr("id","");setTimeout(function(){d.attr("id",e)},500)}scrollTo(0,0);return!1}});else if(f.cookie){if((e=parseInt(c.cookie("ui-tabs"+c.data(d.element)),10))&&d.$tabs[e])f.selected=e}else d.$lis.filter("."+f.selectedClass).length&&(f.selected=d.$lis.index(d.$lis.filter("."+f.selectedClass)[0]));f.selected=null===f.selected|| void 0!==f.selected?f.selected:0;f.disabled=c.unique(f.disabled.concat(c.map(this.$lis.filter("."+f.disabledClass),function(a){return d.$lis.index(a)}))).sort();-1!=c.inArray(f.selected,f.disabled)&&f.disabled.splice(c.inArray(f.selected,f.disabled),1);this.$panels.addClass(f.hideClass);this.$lis.removeClass(f.selectedClass);null!==f.selected&&(this.$panels.eq(f.selected).show().removeClass(f.hideClass),this.$lis.eq(f.selected).addClass(f.selectedClass),e=function(){c(d.element).triggerHandler("tabsshow", [d.fakeEvent("tabsshow"),d.ui(d.$tabs[f.selected],d.$panels[f.selected])],f.show)},c.data(this.$tabs[f.selected],"load.tabs")?this.load(f.selected,e):e());c(window).bind("unload",function(){d.$tabs.unbind(".tabs");d.$lis=d.$tabs=d.$panels=null})}for(var e=0,i;i=this.$lis[e];e++)c(i)[-1!=c.inArray(e,f.disabled)&&!c(i).hasClass(f.selectedClass)?"addClass":"removeClass"](f.disabledClass);!1===f.cache&&this.$tabs.removeData("cache.tabs");var h,g,j={"min-width":0,duration:1},k="normal";f.fx&&f.fx.constructor== Array?(h=f.fx[0]||j,g=f.fx[1]||j):h=g=f.fx||j;var l={display:"",overflow:"",height:""};c.browser.msie||(l.opacity="");this.$tabs.unbind(".tabs").bind(f.event,function(){var e=c(this).parents("li:eq(0)"),g=d.$panels.filter(":visible"),h=c(this.hash);if(e.hasClass(f.selectedClass)&&!f.unselect||e.hasClass(f.disabledClass)||c(this).hasClass(f.loadingClass)||c(d.element).triggerHandler("tabsselect",[d.fakeEvent("tabsselect"),d.ui(this,h[0])],f.select)===false){this.blur();return false}d.options.selected= d.$tabs.index(this);if(f.unselect){if(e.hasClass(f.selectedClass)){d.options.selected=null;e.removeClass(f.selectedClass);d.$panels.stop();b(this,g);this.blur();return false}if(!g.length){d.$panels.stop();var i=this;d.load(d.$tabs.index(this),function(){e.addClass(f.selectedClass).addClass(f.unselectClass);a(i,h)});this.blur();return false}}f.cookie&&c.cookie("ui-tabs"+c.data(d.element),d.options.selected,f.cookie);d.$panels.stop();if(h.length){i=this;d.load(d.$tabs.index(this),g.length?function(){var a= i;e.addClass(f.selectedClass).siblings().removeClass(f.selectedClass);b(a,g,h)}:function(){e.addClass(f.selectedClass);a(i,h)})}else throw"jQuery UI Tabs: Mismatching fragment identifier.";c.browser.msie&&this.blur();return false});/^click/.test(f.event)||this.$tabs.bind("click.tabs",function(){return false})},add:function(e,b,a){void 0==a&&(a=this.$tabs.length);var d=this.options,b=c(d.tabTemplate.replace(/#\{href\}/g,e).replace(/#\{label\}/g,b));b.data("destroy.tabs",!0);var e=0==e.indexOf("#")? e.replace("#",""):this.tabId(c("a:first-child",b)[0]),f=c("#"+e);f.length||(f=c(d.panelTemplate).attr("id",e).addClass(d.hideClass).data("destroy.tabs",!0));f.addClass(d.panelClass);a>=this.$lis.length?(b.appendTo(this.element),f.appendTo(this.element[0].parentNode)):(b.insertBefore(this.$lis[a]),f.insertBefore(this.$panels[a]));d.disabled=c.map(d.disabled,function(b){return b>=a?++b:b});this.tabify();1==this.$tabs.length&&(b.addClass(d.selectedClass),f.removeClass(d.hideClass),(b=c.data(this.$tabs[0], "load.tabs"))&&this.load(a,b));this.element.triggerHandler("tabsadd",[this.fakeEvent("tabsadd"),this.ui(this.$tabs[a],this.$panels[a])],d.add)},remove:function(e){var b=this.options,a=this.$lis.eq(e).remove(),d=this.$panels.eq(e).remove();a.hasClass(b.selectedClass)&&1<this.$tabs.length&&this.select(e+(e+1<this.$tabs.length?1:-1));b.disabled=c.map(c.grep(b.disabled,function(a){return a!=e}),function(a){return a>=e?--a:a});this.tabify();this.element.triggerHandler("tabsremove",[this.fakeEvent("tabsremove"), this.ui(a.find("a")[0],d[0])],b.remove)},enable:function(e){var b=this.options;if(-1!=c.inArray(e,b.disabled)){var a=this.$lis.eq(e).removeClass(b.disabledClass);c.browser.safari&&(a.css("display","inline-block"),setTimeout(function(){a.css("display","block")},0));b.disabled=c.grep(b.disabled,function(a){return a!=e});this.element.triggerHandler("tabsenable",[this.fakeEvent("tabsenable"),this.ui(this.$tabs[e],this.$panels[e])],b.enable)}},disable:function(c){var b=this.options;c!=b.selected&&(this.$lis.eq(c).addClass(b.disabledClass), b.disabled.push(c),b.disabled.sort(),this.element.triggerHandler("tabsdisable",[this.fakeEvent("tabsdisable"),this.ui(this.$tabs[c],this.$panels[c])],b.disable))},select:function(c){"string"==typeof c&&(c=this.$tabs.index(this.$tabs.filter("[href$="+c+"]")[0]));this.$tabs.eq(c).trigger(this.options.event)},load:function(e,b){var a=this,d=this.options,f=this.$tabs.eq(e),i=f[0],h=void 0==b||!1===b,g=f.data("load.tabs"),b=b||function(){};if(!g||!h&&c.data(i,"cache.tabs"))b();else{var j=function(a){var a= c(a),b=a.find("*:last");return b.length&&b.is(":not(img)")&&b||a},k=function(){a.$tabs.filter("."+d.loadingClass).removeClass(d.loadingClass).each(function(){d.spinner&&j(this).parent().html(j(this).data("label.tabs"))});a.xhr=null};d.spinner&&(h=j(i).html(),j(i).wrapInner("<em></em>").find("em").data("label.tabs",h).html(d.spinner));var l=c.extend({},d.ajaxOptions,{url:g,success:function(f,g){c(i.hash).html(f);k();d.cache&&c.data(i,"cache.tabs",true);c(a.element).triggerHandler("tabsload",[a.fakeEvent("tabsload"), a.ui(a.$tabs[e],a.$panels[e])],d.load);d.ajaxOptions.success&&d.ajaxOptions.success(f,g);b()}});this.xhr&&(this.xhr.abort(),k());f.addClass(d.loadingClass);setTimeout(function(){a.xhr=c.ajax(l)},0)}},url:function(c,b){this.$tabs.eq(c).removeData("cache.tabs").data("load.tabs",b)},destroy:function(){var e=this.options;this.element.unbind(".tabs").removeClass(e.navClass).removeData("tabs");this.$tabs.each(function(){var b=c.data(this,"href.tabs");b&&(this.href=b);var a=c(this).unbind(".tabs");c.each(["href", "load","cache"],function(b,c){a.removeData(c+".tabs")})});this.$lis.add(this.$panels).each(function(){c.data(this,"destroy.tabs")?c(this).remove():c(this).removeClass([e.selectedClass,e.unselectClass,e.disabledClass,e.panelClass,e.hideClass].join(" "))})},fakeEvent:function(e){return c.event.fix({type:e,target:this.element[0]})}});c.ui.tabs.defaults={unselect:!1,event:"click",disabled:[],cookie:null,spinner:"Loading&#8230;",cache:!1,idPrefix:"ui-tabs-",ajaxOptions:{},fx:null,tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>', panelTemplate:"<div></div>",navClass:"ui-tabs-nav",selectedClass:"ui-tabs-selected",unselectClass:"ui-tabs-unselect",disabledClass:"ui-tabs-disabled",panelClass:"ui-tabs-panel",hideClass:"ui-tabs-hide",loadingClass:"ui-tabs-loading"};c.ui.tabs.getter="length";c.extend(c.ui.tabs.prototype,{rotation:null,rotate:function(c,b){function a(){f.rotation=setInterval(function(){i=++i<f.$tabs.length?i:0;f.select(i)},c)}function d(a){(!a||a.clientX)&&clearInterval(f.rotation)}var b=b||!1,f=this,i=this.options.selected; c?(a(),b?this.$tabs.bind(this.options.event,function(){d();i=f.options.selected;a()}):this.$tabs.bind(this.options.event,d)):(d(),this.$tabs.unbind(this.options.event,d))}})})(jQuery);